{"version":3,"file":"static/js/4720.f7446356.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/floorFilterUtils.js","../node_modules/@arcgis/core/layers/support/sublayerUtils.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/2d/engine/Bitmap.js","../node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js","../node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/rest/operations/identify.js","../node_modules/@arcgis/core/rest/support/IdentifyParameters.js","../node_modules/@arcgis/core/rest/support/IdentifyResult.js","../node_modules/@arcgis/core/rest/identify.js","../node_modules/@arcgis/core/views/3d/layers/support/highlightUtils.js","../node_modules/@arcgis/core/views/layers/support/MapServiceLayerViewHelper.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction o(o){const n=o.layer;if(\"floorInfo\"in n&&n.floorInfo?.floorField&&\"floors\"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return\"floorInfo\"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{o as getFloorFilterClause,n as getLayerFloorFilterClause};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{OriginId as r}from\"../../core/accessorSupport/PropertyOrigin.js\";function e(r,e,n){const o=e.flatten((({sublayers:r})=>r)).length;if(o!==r.length)return!0;return!!r.some((r=>r.originIdOf(\"minScale\")>n||r.originIdOf(\"maxScale\")>n||r.originIdOf(\"renderer\")>n||r.originIdOf(\"labelingInfo\")>n||r.originIdOf(\"opacity\")>n||r.originIdOf(\"labelsVisible\")>n||r.originIdOf(\"source\")>n))||!i(r,e)}function n(e,n,o){return!!e.some((e=>{const n=e.source,i=!n||\"map-layer\"===n.type&&n.mapLayerId===e.id&&(null==n.gdbVersion||n.gdbVersion===o);return e.commitProperty(\"renderer\"),e.commitProperty(\"labelingInfo\"),e.commitProperty(\"opacity\"),e.commitProperty(\"labelsVisible\"),!i||e.originIdOf(\"renderer\")>r.SERVICE||e.originIdOf(\"labelingInfo\")>r.SERVICE||e.originIdOf(\"opacity\")>r.SERVICE||e.originIdOf(\"labelsVisible\")>r.SERVICE}))||!i(e,n)}function i(r,e){if(!r?.length||null==e)return!0;const n=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>n.length)return!1;let i=0;const o=n.length;for(const{id:t}of r){for(;i<o&&n[i]!==t;)i++;if(i>=o)return!1}return!0}function o(r){return!!r&&r.some((r=>null!=r.minScale||null!=r.layerDefinition?.minScale))}export{n as isExportDynamic,o as isSublayerOverhaul,e as shouldWriteSublayerStructure};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const o=t[r].size;\"number\"==typeof o&&(e+=o,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t?.stops?.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:o}=e;return(n(r,t)+n(o,t))/2}));let o=0;const s=r.length;if(0===s)return t;for(let n=0;n<s;n++)o+=r[n];const f=Math.floor(o/s);return Math.max(f,t)}function o(e){const n=e?.renderer,o=e?.pointerType,s=\"touch\"===o?9:6;if(!n)return s;const f=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(f,n.symbol);if(\"unique-value\"===n.type){let e=f;return n.uniqueValueInfos?.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=f;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return\"dot-density\"===n.type||n.type,f}export{o as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{createResolver as t,onAbortOrThrow as e,throwIfNotAbortError as i}from\"../../../core/promiseUtils.js\";import{identity as s,translate as r,rotate as h,scaleByVec2 as o,multiply as u}from\"../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{fromValues as n}from\"../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{DisplayObject as l}from\"./DisplayObject.js\";import d from\"./ImageryBitmapSource.js\";import{SizedPixelFormat as c,PixelFormat as _,TextureWrapMode as p}from\"../../webgl/enums.js\";import{Texture as m}from\"../../webgl/Texture.js\";import{TextureDescriptor as x}from\"../../webgl/TextureDescriptor.js\";function g(t){return t&&\"render\"in t}function f(t){const e=document.createElement(\"canvas\");return e.width=t.width,e.height=t.height,t.render(e.getContext(\"2d\")),e}function w(t){return g(t)?t instanceof d?t.getRenderedRasterPixels()?.renderedRasterPixels:f(t):t}class S extends l{constructor(t=null,e=!1){super(),this.blendFunction=\"standard\",this._sourceWidth=0,this._sourceHeight=0,this._textureInvalidated=!1,this._texture=null,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.immutable=e,this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null),null!=this._uploadStatus&&(this._uploadStatus.controller.abort(),this._uploadStatus=null)}get isSourceScaled(){return this.width!==this._sourceWidth||this.height!==this._sourceHeight}get height(){return void 0!==this._height?this._height:this._sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){null==t&&null==this._source||(this._source=t,this.invalidateTexture(),this.requestRender())}get width(){return void 0!==this._width?this._width:this._sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t)}async setSourceAsync(i,s){null!=this._uploadStatus&&this._uploadStatus.controller.abort();const r=new AbortController,h=t();return e(s,(()=>r.abort())),e(r,(t=>h.reject(t))),this._uploadStatus={controller:r,resolver:h},this.source=i,h.promise}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this._source instanceof HTMLImageElement?(this._sourceHeight=this._source.naturalHeight,this._sourceWidth=this._source.naturalWidth):this._source&&(this._sourceHeight=this._source.height,this._sourceWidth=this._source.width))}transitionStep(t,e){t>=64&&(this.fadeTransitionEnabled=!1),super.transitionStep(t,e)}setTransform(t){const e=s(this.transforms.displayViewScreenMat3),[i,a]=t.toScreenNoRotation([0,0],[this.x,this.y]),l=this.resolution/this.pixelRatio/t.resolution,d=l*this.width,c=l*this.height,_=Math.PI*this.rotation/180;r(e,e,n(i,a)),r(e,e,n(d/2,c/2)),h(e,e,-_),r(e,e,n(-d/2,-c/2)),o(e,e,n(d,c)),u(this.transforms.displayViewScreenMat3,t.displayViewMat3,e)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind(t,e){this._texture&&t.bindTexture(this._texture,e)}async updateTexture({context:t,painter:e}){if(!this._textureInvalidated)return;if(this._textureInvalidated=!1,this._texture||(this._texture=this._createTexture(t)),!this.source)return void this._texture.setData(null);this._texture.resize(this._sourceWidth,this._sourceHeight);const s=w(this.source);try{if(null!=this._uploadStatus){const{controller:t,resolver:i}=this._uploadStatus,r={signal:t.signal},{width:h,height:o}=this,u=this._texture,a=e.textureUploadManager;await a.enqueueTextureUpdate({data:s,texture:u,width:h,height:o},r),i.resolve(),this._uploadStatus=null}else this._texture.setData(s);this.ready()}catch(r){i(r)}}onDetach(){this.destroy()}_createTransforms(){return{displayViewScreenMat3:a()}}_createTexture(t){const e=this.immutable,i=new x;return i.internalFormat=e?c.RGBA8:_.RGBA,i.wrapMode=p.CLAMP_TO_EDGE,i.isImmutable=e,i.width=this._sourceWidth,i.height=this._sourceHeight,new m(t,i)}}export{S as Bitmap,g as isImageSource,f as rasterize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nclass l{constructor(l,e,t){this.pixelBlock=l,this.extent=e,this.originalPixelBlock=t}get width(){return null!=this.pixelBlock?this.pixelBlock.width:0}get height(){return null!=this.pixelBlock?this.pixelBlock.height:0}render(l){const e=this.pixelBlock;if(null==e)return;const t=this.filter({extent:this.extent,pixelBlock:this.originalPixelBlock??e});if(null==t.pixelBlock)return;t.pixelBlock.maskIsAlpha&&(t.pixelBlock.premultiplyAlpha=!0);const i=t.pixelBlock.getAsRGBA(),h=l.createImageData(t.pixelBlock.width,t.pixelBlock.height);h.data.set(i),l.putImageData(h,0,0)}getRenderedRasterPixels(){const l=this.filter({extent:this.extent,pixelBlock:this.pixelBlock});return null==l.pixelBlock?null:(l.pixelBlock.maskIsAlpha&&(l.pixelBlock.premultiplyAlpha=!0),{width:l.pixelBlock.width,height:l.pixelBlock.height,renderedRasterPixels:new Uint8Array(l.pixelBlock.getAsRGBA().buffer)})}}export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Error.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WGLDrawPhase as s,FeatureSelection as t}from\"../../engine/webgl/enums.js\";import{AGraphicContainer as o}from\"./AGraphicContainer.js\";import{renderHighlight as i}from\"../support/util.js\";let a=class extends o{get hasHighlight(){return this.children.some((r=>r.hasData))}renderChildren(r){this.attributeView.update(),r.drawPhase===s.HIGHLIGHT&&this.children.some((r=>r.hasData))&&(super.renderChildren(r),r.context.setColorMask(!0,!0,!0,!0),i(r,!0,(r=>{this._renderChildren(r,t.All)}),0))}};a=r([e(\"esri.views.2d.layers.graphics.HighlightGraphicContainer\")],a);const h=a;export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{sqlAnd as e}from\"../../core/sql.js\";import{getJsonType as t}from\"../../geometry/support/jsonUtils.js\";import{getScale as r}from\"../../geometry/support/scaleUtils.js\";import{srToRESTValue as i}from\"../../geometry/support/spatialReferenceUtils.js\";import{getLayerFloorFilterClause as n}from\"../../layers/support/floorFilterUtils.js\";import{isExportDynamic as s}from\"../../layers/support/sublayerUtils.js\";function o(e,r){const{dpi:n,gdbVersion:s,geometry:o,geometryPrecision:a,height:m,historicMoment:p,layerOption:f,mapExtent:y,maxAllowableOffset:u,returnFieldName:c,returnGeometry:d,returnUnformattedValues:g,returnZ:x,spatialReference:h,timeExtent:b,tolerance:E,width:O}=e.toJSON(),{dynamicLayers:S,layerDefs:j,layerIds:N}=l(e),$=null!=r?.geometry?r.geometry:null,I={historicMoment:p,geometryPrecision:a,maxAllowableOffset:u,returnFieldName:c,returnGeometry:d,returnUnformattedValues:g,returnZ:x,tolerance:E},R=$?.toJSON()||o;I.imageDisplay=`${O},${m},${n}`,s&&(I.gdbVersion=s),R&&(delete R.spatialReference,I.geometry=JSON.stringify(R),I.geometryType=t(R));const U=h??R?.spatialReference??y?.spatialReference;if(U&&(I.sr=i(U)),I.time=b?[b.start,b.end].join(\",\"):null,y){const{xmin:e,ymin:t,xmax:r,ymax:i}=y;I.mapExtent=`${e},${t},${r},${i}`}return j&&(I.layerDefs=j),S&&!j&&(I.dynamicLayers=S),I.layers=\"popup\"===f?\"visible\":f,N&&!S&&(I.layers+=`:${N.join(\",\")}`),I}function l(e){const{mapExtent:t,floors:i,width:o,sublayers:l,layerIds:m,layerOption:p,gdbVersion:f}=e,y=l?.find((e=>null!=e.layer))?.layer?.serviceSublayers,u=\"popup\"===p,c={},d=r({extent:t,width:o,spatialReference:t?.spatialReference}),g=[],x=e=>{const t=0===d,r=0===e.minScale||d<=e.minScale,i=0===e.maxScale||d>=e.maxScale;if(e.visible&&(t||r&&i))if(e.sublayers)e.sublayers.forEach(x);else{if(!1===m?.includes(e.id)||u&&(!e.popupTemplate||!e.popupEnabled))return;g.unshift(e)}};if(l?.forEach(x),l&&!g.length)c.layerIds=[];else{const e=s(g,y,f),t=g.map((e=>{const t=n(i,e);return e.toExportImageJSON(t)}));if(e)c.dynamicLayers=JSON.stringify(t);else{if(l){let e=g.map((({id:e})=>e));m&&(e=e.filter((e=>m.includes(e)))),c.layerIds=e}else m?.length&&(c.layerIds=m);const e=a(i,g);if(null!=e&&e.length){const t={};for(const r of e)r.definitionExpression&&(t[r.id]=r.definitionExpression);Object.keys(t).length&&(c.layerDefs=JSON.stringify(t))}}}return c}function a(t,r){const i=!!t?.length,s=r.filter((e=>null!=e.definitionExpression||i&&null!=e.floorInfo));return s.length?s.map((r=>{const i=n(t,r),s=e(i,r.definitionExpression);return{id:r.id,definitionExpression:s??void 0}})):null}export{o as identifyToIdentifyRESTParameters,l as toDynamicLayersJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{geometryTypes as e}from\"../../geometry.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{ensureClass as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/RandomLCG.js\";import\"../../core/has.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import{fromJSON as n}from\"../../geometry/support/jsonUtils.js\";import l from\"../../time/TimeExtent.js\";import m from\"../../geometry/Extent.js\";import y from\"../../geometry/SpatialReference.js\";var a;let u=a=class extends o{static from(t){return i(a,t)}constructor(t){super(t),this.dpi=96,this.floors=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=null,this.height=400,this.historicMoment=null,this.layerIds=null,this.layerOption=\"top\",this.mapExtent=null,this.maxAllowableOffset=null,this.returnFieldName=!0,this.returnGeometry=!1,this.returnM=!1,this.returnUnformattedValues=!0,this.returnZ=!1,this.spatialReference=null,this.sublayers=null,this.timeExtent=null,this.tolerance=null,this.width=400}writeHistoricMoment(t,e){e.historicMoment=t&&t.getTime()}};t([r({type:Number,json:{write:!0}})],u.prototype,\"dpi\",void 0),t([r()],u.prototype,\"floors\",void 0),t([r({type:String,json:{write:!0}})],u.prototype,\"gdbVersion\",void 0),t([r({types:e,json:{read:n,write:!0}})],u.prototype,\"geometry\",void 0),t([r({type:Number,json:{write:!0}})],u.prototype,\"geometryPrecision\",void 0),t([r({type:Number,json:{write:!0}})],u.prototype,\"height\",void 0),t([r({type:Date})],u.prototype,\"historicMoment\",void 0),t([p(\"historicMoment\")],u.prototype,\"writeHistoricMoment\",null),t([r({type:[Number],json:{write:!0}})],u.prototype,\"layerIds\",void 0),t([r({type:[\"top\",\"visible\",\"all\",\"popup\"],json:{write:!0}})],u.prototype,\"layerOption\",void 0),t([r({type:m,json:{write:!0}})],u.prototype,\"mapExtent\",void 0),t([r({type:Number,json:{write:!0}})],u.prototype,\"maxAllowableOffset\",void 0),t([r({type:Boolean,json:{write:!0}})],u.prototype,\"returnFieldName\",void 0),t([r({type:Boolean,json:{write:!0}})],u.prototype,\"returnGeometry\",void 0),t([r({type:Boolean,json:{write:!0}})],u.prototype,\"returnM\",void 0),t([r({type:Boolean,json:{write:!0}})],u.prototype,\"returnUnformattedValues\",void 0),t([r({type:Boolean,json:{write:!0}})],u.prototype,\"returnZ\",void 0),t([r({type:y,json:{write:!0}})],u.prototype,\"spatialReference\",void 0),t([r()],u.prototype,\"sublayers\",void 0),t([r({type:l,json:{write:!0}})],u.prototype,\"timeExtent\",void 0),t([r({type:Number,json:{write:!0}})],u.prototype,\"tolerance\",void 0),t([r({type:Number,json:{write:!0}})],u.prototype,\"width\",void 0),u=a=t([s(\"esri.rest.support.IdentifyParameters\")],u);const d=u;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import e from\"../../Graphic.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import{typeKebabDictionary as a}from\"../../geometry/support/typeUtils.js\";let u=class extends t{constructor(r){super(r),this.displayFieldName=null,this.feature=null,this.layerId=null,this.layerName=null}readFeature(r,t){return e.fromJSON({attributes:{...t.attributes},geometry:{...t.geometry}})}writeFeature(r,e){if(!r)return;const{attributes:t,geometry:o}=r;t&&(e.attributes={...t}),null!=o&&(e.geometry=o.toJSON(),e.geometryType=a.toJSON(o.type))}};r([o({type:String,json:{write:!0}})],u.prototype,\"displayFieldName\",void 0),r([o({type:e})],u.prototype,\"feature\",void 0),r([s(\"feature\",[\"attributes\",\"geometry\"])],u.prototype,\"readFeature\",null),r([i(\"feature\")],u.prototype,\"writeFeature\",null),r([o({type:Number,json:{write:!0}})],u.prototype,\"layerId\",void 0),r([o({type:String,json:{write:!0}})],u.prototype,\"layerName\",void 0),u=r([p(\"esri.rest.support.IdentifyResult\")],u);const m=u;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport r from\"../request.js\";import{normalizeCentralMeridian as e}from\"../geometry/support/normalizeUtils.js\";import{parseUrl as t,encode as o,asValidOptions as s}from\"./utils.js\";import{identifyToIdentifyRESTParameters as n}from\"./operations/identify.js\";import u from\"./support/IdentifyParameters.js\";import i from\"./support/IdentifyResult.js\";async function f(u,i,f){const c=(i=a(i)).geometry?[i.geometry]:[],l=t(u);return l.path+=\"/identify\",e(c).then((e=>{const t=n(i,{geometry:e?.[0]}),u=o({...l.query,f:\"json\",...t}),a=s(u,f);return r(l.path,a).then(m).then((r=>p(r,i.sublayers)))}))}function m(r){const e=r.data;return e.results=e.results||[],e.exceededTransferLimit=Boolean(e.exceededTransferLimit),e.results=e.results.map((r=>i.fromJSON(r))),e}function a(r){return r=u.from(r)}function p(r,e){if(!e?.length)return r;const t=new Map;function o(r){t.set(r.id,r),r.sublayers&&r.sublayers.forEach(o)}e.forEach(o);for(const s of r.results)s.feature.sourceLayer=t.get(s.layerId);return r}export{f as identify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{C as r}from\"../../../../chunks/languageUtils.js\";import o from\"../../../../core/Collection.js\";import{makeHandle as t}from\"../../../../core/handleUtils.js\";function n(t){return e(t)||r(t)?[t]:o.isCollection(t)?t.toArray():Array.isArray(t)?t:i}function e(r){return\"number\"==typeof r||\"string\"==typeof r}const i=[],s=t();export{s as emptyHighlightHandle,e as isObjectId,n as normalizeHighlightTargetExceptQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{C as t}from\"../../../chunks/languageUtils.js\";import r from\"../../../core/Accessor.js\";import{isSome as s}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Collection.js\";import o from\"../../../core/Error.js\";import{makeHandle as a}from\"../../../core/handleUtils.js\";import has from\"../../../core/has.js\";import{getOrCreateMapValue as n}from\"../../../core/MapUtils.js\";import{debounce as l,throwIfAborted as p}from\"../../../core/promiseUtils.js\";import{on as c}from\"../../../core/reactiveUtils.js\";import{sqlAnd as u}from\"../../../core/sql.js\";import{getMetersPerUnitForSR as h}from\"../../../core/unitUtils.js\";import{property as y}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import f from\"../../../geometry/Extent.js\";import{getResolutionForScale as d}from\"../../../geometry/support/scaleUtils.js\";import{collectFields as g}from\"../../../layers/support/fieldUtils.js\";import{getLayerFloorFilterClause as w}from\"../../../layers/support/floorFilterUtils.js\";import{calculateTolerance as b}from\"../../../renderers/support/clickToleranceUtils.js\";import{identify as j}from\"../../../rest/identify.js\";import v from\"../../../rest/support/IdentifyParameters.js\";import{loadArcade as x}from\"../../../support/arcadeOnDemand.js\";import F from\"../../../symbols/SimpleMarkerSymbol.js\";import{emptyHighlightHandle as U}from\"../../3d/layers/support/highlightUtils.js\";import{getRequiredFields as P,getFetchPopupTemplate as S}from\"./popupUtils.js\";let G=null;function _(e,t){return\"tile\"===t.type||\"map-image\"===t.type}let R=class extends r{constructor(e){super(e),this._featuresResolutions=new WeakMap,this.highlightGraphics=null,this.highlightGraphicUpdated=null,this.updateHighlightedFeatures=l((async e=>{this.destroyed||this.updatingHandles.addPromise(this._updateHighlightedFeaturesGeometries(e).catch((()=>{})))}))}initialize(){const e=e=>{this.updatingHandles.addPromise(this._updateHighlightedFeaturesSymbols(e).catch((()=>{}))),this.updateHighlightedFeatures(this._highlightGeometriesResolution)};this.addHandles([c((()=>this.highlightGraphics),\"change\",(t=>e(t.added)),{onListenerAdd:t=>e(t)})])}async fetchPopupFeaturesAtLocation(e,t){const{layerView:{layer:r,view:{scale:s}}}=this;if(!e)throw new o(\"fetchPopupFeatures:invalid-area\",\"Nothing to fetch without area\",{layer:r});const i=A(r.sublayers,s,t);if(!i.length)return[];const a=await V(r,i);if(!((r.capabilities?.operations?.supportsIdentify??!0)&&r.version>=10.5)&&!a)throw new o(\"fetchPopupFeatures:not-supported\",\"query operation is disabled for this service\",{layer:r});return a?this._fetchPopupFeaturesUsingQueries(e,i,t):this._fetchPopupFeaturesUsingIdentify(e,i,t)}clearHighlights(){this.highlightGraphics?.removeAll()}highlight(e){const r=this.highlightGraphics;if(!e||!r)return U;let o=t(e)?[e]:i.isCollection(e)?e.toArray():Array.isArray(e)?e:[];if(o=o?.filter(s),0===(o?.length??0))return U;for(const t of o){const{sourceLayer:e}=t;null!=e&&\"geometryType\"in e&&\"point\"===e.geometryType&&(t.visible=!1)}return r.addMany(o),a((()=>r.removeMany(o??[])))}async _updateHighlightedFeaturesSymbols(e){const{layerView:{view:t},highlightGraphics:r,highlightGraphicUpdated:s}=this;if(r&&s)for(const i of e){const e=i.sourceLayer&&\"renderer\"in i.sourceLayer&&i.sourceLayer.renderer;i.sourceLayer&&\"geometryType\"in i.sourceLayer&&\"point\"===i.sourceLayer.geometryType&&e&&\"getSymbolAsync\"in e&&e.getSymbolAsync(i).then((async o=>{o||=new F;let a=null;const n=\"visualVariables\"in e?e.visualVariables?.find((e=>\"size\"===e.type)):void 0;n&&(G||(G=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSize),a=G(n,i,{view:t.type,scale:t.scale,shape:\"simple-marker\"===o.type?o.style:null})),a||=\"width\"in o&&\"height\"in o&&null!=o.width&&null!=o.height?Math.max(o.width,o.height):\"size\"in o?o.size:16,r.includes(i)&&(i.symbol=new F({style:\"square\",size:a,xoffset:\"xoffset\"in o?o.xoffset:0,yoffset:\"yoffset\"in o?o.yoffset:0}),s(i,\"symbol\"),i.visible=!0)}))}}async _updateHighlightedFeaturesGeometries(e){const{layerView:{layer:t,view:r},highlightGraphics:s,highlightGraphicUpdated:i}=this;if(this._highlightGeometriesResolution=e,!i||!s?.length||!t.capabilities.operations.supportsQuery)return;const o=this._getTargetResolution(e),a=new Map;for(const c of s)if(!this._featuresResolutions.has(c)||this._featuresResolutions.get(c)>o){const e=c.sourceLayer;n(a,e,(()=>new Map)).set(c.getObjectId(),c)}const l=Array.from(a,(([e,t])=>{const s=e.createQuery();return s.objectIds=[...t.keys()],s.outFields=[e.objectIdField],s.returnGeometry=!0,s.maxAllowableOffset=o,s.outSpatialReference=r.spatialReference,e.queryFeatures(s)})),p=await Promise.all(l);if(!this.destroyed)for(const{features:n}of p)for(const e of n){const t=e.sourceLayer,r=a.get(t).get(e.getObjectId());r&&s.includes(r)&&(r.geometry=e.geometry,i(r,\"geometry\"),this._featuresResolutions.set(r,o))}}_getTargetResolution(e){const t=e*h(this.layerView.view.spatialReference),r=t/16;return r<=10?0:e/t*r}async _fetchPopupFeaturesUsingIdentify(e,t,r){const s=await this._createIdentifyParameters(e,t,r);if(null==s)return[];const{results:i}=await j(this.layerView.layer.parsedUrl,s,r);return i.map((e=>e.feature))}async _createIdentifyParameters(e,t,r){const{floors:s,layer:i,timeExtent:o,view:{spatialReference:a,scale:n}}=this.layerView;if(!t.length)return null;await Promise.all(t.map((({sublayer:e})=>e.load(r).catch((()=>{})))));const l=Math.min(has(\"mapservice-popup-identify-max-tolerance\"),i.allSublayers.reduce(((e,t)=>t.renderer?b({renderer:t.renderer,pointerType:r?.pointerType}):e),2)),p=this.createFetchPopupFeaturesQueryGeometry(e,l),c=d(n,a),u=Math.round(p.width/c),h=new f({xmin:p.center.x-c*u,ymin:p.center.y-c*u,xmax:p.center.x+c*u,ymax:p.center.y+c*u,spatialReference:p.spatialReference});return new v({floors:s,gdbVersion:\"gdbVersion\"in i?i.gdbVersion:void 0,geometry:e,height:u,layerOption:\"popup\",mapExtent:h,returnGeometry:!0,spatialReference:a,sublayers:i.sublayers,timeExtent:o,tolerance:l,width:u})}async _fetchPopupFeaturesUsingQueries(e,t,r){const{layerView:{floors:i,timeExtent:o}}=this,a=t.map((async({sublayer:t,popupTemplate:s})=>{if(await t.load(r).catch((()=>{})),t.capabilities&&!t.capabilities.operations.supportsQuery)return[];const a=t.createQuery(),n=b({renderer:t.renderer,pointerType:r?.pointerType}),l=this.createFetchPopupFeaturesQueryGeometry(e,n),c=new Set,[h]=await Promise.all([P(t,s),t.renderer?.collectRequiredFields(c,t.fieldsIndex)]);p(r),g(c,t.fieldsIndex,h);const y=Array.from(c).sort();a.geometry=l,a.outFields=y,a.timeExtent=o;const m=w(i,t);a.where=u(a.where,m);const f=this._getTargetResolution(l.width/n),d=await T(s);p(r);const j=\"point\"===t.geometryType||d&&d.arcadeUtils.hasGeometryOperations(s);j||(a.maxAllowableOffset=f);let{features:v}=await t.queryFeatures(a,r);const x=j?0:f;v=await I(t,v,r);for(const e of v)this._featuresResolutions.set(e,x);return v}));return(await Promise.allSettled(a)).reduce(((e,t)=>\"fulfilled\"===t.status?[...e,...t.value]:e),[]).filter(s)}};function A(e,t,r){const s=[];if(!e)return s;const i=e=>{const o=0===e.minScale||t<=e.minScale,a=0===e.maxScale||t>=e.maxScale;if(e.visible&&o&&a)if(e.sublayers)e.sublayers.forEach(i);else if(e.popupEnabled){const t=S(e,{...r,defaultPopupTemplateEnabled:!1});null!=t&&s.unshift({sublayer:e,popupTemplate:t})}};return e.map(i),s}function T(e){return e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type))?x():Promise.resolve()}async function V(e,t){if(e.capabilities?.operations?.supportsQuery)return!0;try{return await Promise.any(t.map((({sublayer:e})=>e.load().then((()=>e.capabilities.operations.supportsQuery)))))}catch{return!1}}async function I(e,t,r){const s=e.renderer;return s&&\"defaultSymbol\"in s&&!s.defaultSymbol&&(t=s.valueExpression?await Promise.all(t.map((e=>s.getSymbolAsync(e,r).then((t=>t?e:null))))).then((e=>e.filter((e=>null!=e)))):t.filter((e=>null!=s.getSymbol(e)))),t}e([y({constructOnly:!0})],R.prototype,\"createFetchPopupFeaturesQueryGeometry\",void 0),e([y({constructOnly:!0})],R.prototype,\"layerView\",void 0),e([y({constructOnly:!0})],R.prototype,\"highlightGraphics\",void 0),e([y({constructOnly:!0})],R.prototype,\"highlightGraphicUpdated\",void 0),e([y({constructOnly:!0})],R.prototype,\"updatingHandles\",void 0),R=e([m(\"esri.views.layers.support.MapServiceLayerViewHelper\")],R);export{R as MapServiceLayerViewHelper,A as collectPopupProviders,_ as isMapServiceLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{getMetersPerUnitForSR as e}from\"../../core/unitUtils.js\";import{calculateTolerance as t}from\"../../renderers/support/clickToleranceUtils.js\";import n from\"../../geometry/Extent.js\";function r(t,r,i,a=new n){let o=0;if(\"2d\"===i.type)o=r*(i.resolution??0);else if(\"3d\"===i.type){const n=i.overlayPixelSizeInMapUnits(t),a=i.basemapSpatialReference;o=null==a||a.equals(i.spatialReference)?r*n:e(a)/e(i.spatialReference)}const s=t.x-o,l=t.y-o,m=t.x+o,p=t.y+o,{spatialReference:c}=i;return a.xmin=Math.min(s,m),a.ymin=Math.min(l,p),a.xmax=Math.max(s,m),a.ymax=Math.max(l,p),a.spatialReference=c,a}function i(e,n,i){const o=i.toMap(e);if(null==o)return!1;return r(o,t(),i,a).intersects(n)}const a=new n;export{r as createQueryGeometry,i as intersectsDrapedGeometry};\n"],"names":["o","_n$floorInfo","n","layer","floorInfo","floorField","view","l","floors","_n$floorInfo2","length","filter","map","concat","push","join","e","r","flatten","_ref","sublayers","some","originIdOf","i","source","type","mapLayerId","id","gdbVersion","commitProperty","SERVICE","slice","reverse","_ref2","toArray","t","_r$layerDefinition","minScale","layerDefinition","xoffset","Math","max","abs","yoffset","_t$stops","stops","size","maxSize","minSize","s","f","floor","renderer","pointerType","visualVariables","symbol","_n$uniqueValueInfos","uniqueValueInfos","forEach","classBreakInfos","g","document","createElement","width","height","render","getContext","S","constructor","arguments","undefined","super","this","blendFunction","_sourceWidth","_sourceHeight","_textureInvalidated","_texture","stencilRef","coordScale","_height","pixelRatio","resolution","rotation","_source","_width","x","y","immutable","requestRender","bind","destroy","dispose","_uploadStatus","controller","abort","isSourceScaled","invalidateTexture","beforeRender","updateTexture","setSourceAsync","AbortController","h","reject","resolver","promise","HTMLImageElement","naturalHeight","naturalWidth","transitionStep","fadeTransitionEnabled","setTransform","transforms","displayViewScreenMat3","a","toScreenNoRotation","d","c","_","PI","u","displayViewMat3","setSamplingProfile","mips","descriptor","hasMipmap","generateMipmap","setSamplingMode","samplingMode","bindTexture","context","painter","_createTexture","setData","resize","_t$getRenderedRasterP","getRenderedRasterPixels","renderedRasterPixels","w","signal","textureUploadManager","enqueueTextureUpdate","data","texture","resolve","ready","onDetach","_createTransforms","internalFormat","RGBA8","RGBA","wrapMode","p","CLAMP_TO_EDGE","isImmutable","m","pixelBlock","extent","originalPixelBlock","_this$originalPixelBl","maskIsAlpha","premultiplyAlpha","getAsRGBA","createImageData","set","putImageData","Uint8Array","buffer","hasHighlight","children","hasData","renderChildren","attributeView","update","drawPhase","HIGHLIGHT","setColorMask","_renderChildren","All","initialize","addHandles","doRefresh","dataChanged","catch","getLogger","error","dpi","geometry","geometryPrecision","historicMoment","layerOption","mapExtent","maxAllowableOffset","returnFieldName","returnGeometry","returnUnformattedValues","returnZ","spatialReference","timeExtent","b","tolerance","E","O","toJSON","dynamicLayers","layerDefs","j","layerIds","N","$","I","R","imageDisplay","JSON","stringify","geometryType","U","sr","time","start","end","xmin","ymin","xmax","ymax","layers","_l$find","find","serviceSublayers","maxScale","visible","includes","popupTemplate","popupEnabled","unshift","toExportImageJSON","definitionExpression","Object","keys","from","returnM","writeHistoricMoment","getTime","Number","json","write","prototype","String","types","read","Date","Boolean","displayFieldName","feature","layerId","layerName","readFeature","fromJSON","attributes","_objectSpread","writeFeature","async","path","then","query","Map","results","sourceLayer","get","exceededTransferLimit","G","_featuresResolutions","WeakMap","highlightGraphics","highlightGraphicUpdated","updateHighlightedFeatures","destroyed","updatingHandles","addPromise","_updateHighlightedFeaturesGeometries","_updateHighlightedFeaturesSymbols","_highlightGeometriesResolution","added","onListenerAdd","fetchPopupFeaturesAtLocation","_r$capabilities$opera","_r$capabilities","layerView","scale","defaultPopupTemplateEnabled","sublayer","A","_e$capabilities","capabilities","operations","supportsQuery","Promise","any","_ref4","load","_unused","V","supportsIdentify","version","_fetchPopupFeaturesUsingQueries","_fetchPopupFeaturesUsingIdentify","clearHighlights","_this$highlightGraphi","removeAll","highlight","_o","_o$length","_o2","isCollection","Array","isArray","addMany","_o3","removeMany","getSymbolAsync","_e$visualVariables","F","getSize","shape","style","_getTargetResolution","has","getObjectId","createQuery","objectIds","outFields","objectIdField","outSpatialReference","queryFeatures","all","features","_createIdentifyParameters","parsedUrl","min","allSublayers","reduce","createFetchPopupFeaturesQueryGeometry","round","center","v","_t$renderer","_ref3","Set","P","collectRequiredFields","fieldsIndex","sort","where","_e$expressionInfos","expressionInfos","content","T","arcadeUtils","hasGeometryOperations","defaultSymbol","valueExpression","getSymbol","allSettled","status","value","constructOnly","_n$fieldsIndex","_n$fieldsIndex2","getRequiredFields","lastEditInfoEnabled","typeIdField","globalIdField","relationships","_n$fieldsIndex3","keyField","defaultPopupTemplate","_i$resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","equals","toMap","intersects"],"sourceRoot":""}