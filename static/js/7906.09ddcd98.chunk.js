"use strict";(self.webpackChunkn2_trees=self.webpackChunkn2_trees||[]).push([[7906],{11186:(t,n,e)=>{e.d(n,{a:()=>c,b:()=>l,c:()=>i,d:()=>r,e:()=>f,f:()=>u,n:()=>s,s:()=>a,t:()=>o});e(93169),e(32718);function r(t,n,e){o(t.typedBuffer,n.typedBuffer,e,t.typedBufferStride,n.typedBufferStride)}function o(t,n,e){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;if(t.length/r!==Math.ceil(n.length/o))return t;const i=t.length/r,l=e[0],a=e[1],u=e[2],c=e[4],f=e[5],s=e[6],d=e[8],p=e[9],g=e[10],y=e[12],h=e[13],m=e[14];let v=0,A=0;for(let T=0;T<i;T++){const e=n[v],i=n[v+1],T=n[v+2];t[A]=l*e+c*i+d*T+y,t[A+1]=a*e+f*i+p*T+h,t[A+2]=u*e+s*i+g*T+m,v+=o,A+=r}return t}function i(t,n,e){l(t.typedBuffer,n.typedBuffer,e,t.typedBufferStride,n.typedBufferStride)}function l(t,n,e){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;if(t.length/r!==Math.ceil(n.length/o))return;const i=t.length/r,l=e[0],a=e[1],u=e[2],c=e[3],f=e[4],s=e[5],d=e[6],p=e[7],g=e[8];let y=0,h=0;for(let m=0;m<i;m++){const e=n[y],i=n[y+1],m=n[y+2];t[h]=l*e+c*i+d*m,t[h+1]=a*e+f*i+p*m,t[h+2]=u*e+s*i+g*m,y+=o,h+=r}}function a(t,n,e){u(t.typedBuffer,n.typedBuffer,e,t.typedBufferStride,n.typedBufferStride)}function u(t,n,e){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;const i=Math.min(t.length/r,n.length/o);let l=0,a=0;for(let u=0;u<i;u++)t[a]=e*n[l],t[a+1]=e*n[l+1],t[a+2]=e*n[l+2],l+=o,a+=r;return t}function c(t,n,e){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;const i=t.length/r;if(i!==Math.ceil(n.length/o))return t;let l=0,a=0;for(let u=0;u<i;u++)t[a]=n[l]+e[0],t[a+1]=n[l+1]+e[1],t[a+2]=n[l+2]+e[2],l+=o,a+=r;return t}function f(t,n){s(t.typedBuffer,n.typedBuffer,t.typedBufferStride,n.typedBufferStride)}function s(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;const o=Math.min(t.length/e,n.length/r);let i=0,l=0;for(let a=0;a<o;a++){const o=n[i],a=n[i+1],u=n[i+2],c=o*o+a*a+u*u;if(c>0){const n=1/Math.sqrt(c);t[l]=n*o,t[l+1]=n*a,t[l+2]=n*u}i+=r,l+=e}}Object.freeze(Object.defineProperty({__proto__:null,normalize:s,normalizeView:f,scale:u,scaleView:a,shiftRight:function(t,n,e){const r=Math.min(t.count,n.count),o=t.typedBuffer,i=t.typedBufferStride,l=n.typedBuffer,a=n.typedBufferStride;let u=0,c=0;for(let f=0;f<r;f++)o[c]=l[u]>>e,o[c+1]=l[u+1]>>e,o[c+2]=l[u+2]>>e,u+=a,c+=i},transformMat3:l,transformMat3View:i,transformMat4:o,transformMat4View:r,translate:c},Symbol.toStringTag,{value:"Module"}))},6754:(t,n,e)=>{e.d(n,{a:()=>o,b:()=>u,n:()=>l,s:()=>a,t:()=>i});e(93169);var r=e(32718);function o(t,n,e){i(t.typedBuffer,n.typedBuffer,e,t.typedBufferStride,n.typedBufferStride)}function i(t,n,e){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;if(t.length/r!=n.length/o)return;const i=t.length/r,l=e[0],a=e[1],u=e[2],c=e[3],f=e[4],s=e[5],d=e[6],p=e[7],g=e[8];let y=0,h=0;for(let m=0;m<i;m++){const e=n[y],i=n[y+1],m=n[y+2],v=n[y+3];t[h]=l*e+c*i+d*m,t[h+1]=a*e+f*i+p*m,t[h+2]=u*e+s*i+g*m,t[h+3]=v,y+=o,h+=r}}function l(t,n){const e=Math.min(t.count,n.count),r=t.typedBuffer,o=t.typedBufferStride,i=n.typedBuffer,l=n.typedBufferStride;for(let a=0;a<e;a++){const t=a*o,n=a*l,e=i[n],u=i[n+1],c=i[n+2],f=e*e+u*u+c*c;if(f>0){const n=1/Math.sqrt(f);r[t]=n*e,r[t+1]=n*u,r[t+2]=n*c}}}function a(t,n,e){u(t.typedBuffer,n,e,t.typedBufferStride)}function u(t,n,e){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;const o=Math.min(t.length/r,n.count),i=n.typedBuffer,l=n.typedBufferStride;let a=0,u=0;for(let c=0;c<o;c++)t[u]=e*i[a],t[u+1]=e*i[a+1],t[u+2]=e*i[a+2],t[u+3]=e*i[a+3],a+=l,u+=r}Object.freeze(Object.defineProperty({__proto__:null,normalize:l,scale:u,scaleView:a,transformMat3:i,transformMat3View:o,transformMat4:function(t,n,e){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o;if(t.length/o!=n.length/i)return void r.Z.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const l=t.length/o,a=e[0],u=e[1],c=e[2],f=e[3],s=e[4],d=e[5],p=e[6],g=e[7],y=e[8],h=e[9],m=e[10],v=e[11],A=e[12],T=e[13],w=e[14],_=e[15];let B=0,S=0;for(let r=0;r<l;r++){const e=n[B],r=n[B+1],l=n[B+2],F=n[B+3];t[S]=a*e+s*r+y*l+A*F,t[S+1]=u*e+d*r+h*l+T*F,t[S+2]=c*e+p*r+m*l+w*F,t[S+3]=f*e+g*r+v*l+_*F,B+=i,S+=o}},transformMat4View:function(t,n,e){if(t.count!==n.count)return;const r=t.count,o=e[0],i=e[1],l=e[2],a=e[3],u=e[4],c=e[5],f=e[6],s=e[7],d=e[8],p=e[9],g=e[10],y=e[11],h=e[12],m=e[13],v=e[14],A=e[15],T=t.typedBuffer,w=t.typedBufferStride,_=n.typedBuffer,B=n.typedBufferStride;for(let S=0;S<r;S++){const t=S*w,n=S*B,e=_[n],r=_[n+1],F=_[n+2],b=_[n+3];T[t]=o*e+u*r+d*F+h*b,T[t+1]=i*e+c*r+p*F+m*b,T[t+2]=l*e+f*r+g*F+v*b,T[t+3]=a*e+s*r+y*F+A*b}}},Symbol.toStringTag,{value:"Module"}))},27474:(t,n,e)=>{e.d(n,{Q:()=>d});var r,o=e(27366),i=e(46784),l=e(84652),a=e(32718),u=e(49861),c=e(89125),f=e(69912),s=e(40726);let d=r=class extends i.wq{constructor(t){super(t),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(t){return(0,s.X)(t,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},a.Z.getLogger(this))}castPosition(t){return t&&t instanceof Float32Array&&a.Z.getLogger(this).warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),(0,s.X)(t,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},a.Z.getLogger(this))}castUv(t){return(0,s.X)(t,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},a.Z.getLogger(this))}castNormal(t){return(0,s.X)(t,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},a.Z.getLogger(this))}castTangent(t){return(0,s.X)(t,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},a.Z.getLogger(this))}clone(){const t={position:(0,l.d9)(this.position),uv:(0,l.d9)(this.uv),normal:(0,l.d9)(this.normal),tangent:(0,l.d9)(this.tangent),color:(0,l.d9)(this.color)};return new r(t)}clonePositional(){const t={position:(0,l.d9)(this.position),normal:(0,l.d9)(this.normal),tangent:(0,l.d9)(this.tangent),uv:this.uv,color:this.color};return new r(t)}get memoryUsage(){let t=0;return t+=this.position.byteLength,null!=this.uv&&(t+=this.uv.byteLength),null!=this.normal&&(t+=this.normal.byteLength),null!=this.tangent&&(t+=this.tangent.byteLength),null!=this.color&&(t+=this.color.byteLength),t}};(0,o._)([(0,u.Cb)({json:{write:s.d}})],d.prototype,"color",void 0),(0,o._)([(0,c.p)("color")],d.prototype,"castColor",null),(0,o._)([(0,u.Cb)({nonNullable:!0,json:{write:s.d}})],d.prototype,"position",void 0),(0,o._)([(0,c.p)("position")],d.prototype,"castPosition",null),(0,o._)([(0,u.Cb)({json:{write:s.d}})],d.prototype,"uv",void 0),(0,o._)([(0,c.p)("uv")],d.prototype,"castUv",null),(0,o._)([(0,u.Cb)({json:{write:s.d}})],d.prototype,"normal",void 0),(0,o._)([(0,c.p)("normal")],d.prototype,"castNormal",null),(0,o._)([(0,u.Cb)({json:{write:s.d}})],d.prototype,"tangent",void 0),(0,o._)([(0,c.p)("tangent")],d.prototype,"castTangent",null),d=r=(0,o._)([(0,f.j)("esri.geometry.support.MeshVertexAttributes")],d)},40726:(t,n,e)=>{function r(t,n,e,r){const{loggerTag:o,stride:i}=n;return t.length%i!=0?(r.error(o,"Invalid array length, expected a multiple of ".concat(i)),new e([])):t}function o(t,n,e,o,i){if(!t)return t;if(t instanceof n)return r(t,o,n,i);for(const l of e)if(t instanceof l)return r(new n(t),o,n,i);if(Array.isArray(t))return r(new n(t),o,n,i);{const r=e.map((t=>"'".concat(t.name,"'")));return i.error("Failed to set property, expected one of ".concat(r,", but got ").concat(t.constructor.name)),new n([])}}function i(t,n,e){n[e]=function(t){const n=new Array(t.length);for(let e=0;e<t.length;e++)n[e]=t[e];return n}(t)}e.d(n,{X:()=>o,d:()=>i})},11700:(t,n,e)=>{e.d(n,{Gi:()=>m,Iz:()=>A,M2:()=>b,To:()=>_,VS:()=>S,XO:()=>w,Yk:()=>T,pn:()=>v,w9:()=>B,wi:()=>F});var r=e(16889),o=e(29303),i=e(21389),l=e(29134),a=e(7025),u=e(32035),c=e(12400),f=e(86452),s=e(50628),d=(e(22186),e(92975)),p=e(81753),g=e(25158),y=e(11186),h=e(6754);const m="Projection may be possible after calling projection.load().";function v(t,n,e,r){t.error("Failed to project from (wkid:".concat(n.wkid,") to (wkid:").concat(e.wkid,").").concat(r?" ":"").concat(r))}function A(t,n,e,r,o,i){return O(R.TO_PCPF,g.ct.fromTypedArray(t),M.NORMAL,g.fP.fromTypedArray(n),e,g.fP.fromTypedArray(r),o,g.ct.fromTypedArray(i))?i:null}function T(t,n,e,r,o,i){return O(R.FROM_PCPF,g.ct.fromTypedArray(t),M.NORMAL,g.fP.fromTypedArray(n),e,g.fP.fromTypedArray(r),o,g.ct.fromTypedArray(i))?i:null}function w(t,n,e,r){return(0,s.projectBuffer)(t,n,0,e,r,0)?e:null}function _(t,n,e,r){return(0,s.projectBuffer)(t,n,0,e,r,0)?e:null}function B(t,n,e){return(0,o.XL)(x,e),(0,y.b)(n,t,x),(0,r.oc)(x)&&(0,y.n)(n,n),n}function S(t,n,e){return(0,o.xO)(x,e),(0,h.t)(n,t,x),(0,r.oc)(x)&&(0,y.n)(n,n,4),n}function F(t,n,e,r,o,i){if(!O(R.TO_PCPF,g.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),M.TANGENT,g.fP.fromTypedArray(n),e,g.fP.fromTypedArray(r),o,g.ct.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let l=3;l<t.length;l+=4)i[l]=t[l];return i}function b(t,n,e,r,o,i){if(!O(R.FROM_PCPF,g.ct.fromTypedArray(t,16),M.TANGENT,g.fP.fromTypedArray(n),e,g.fP.fromTypedArray(r),o,g.ct.fromTypedArray(i,16)))return null;for(let l=3;l<t.length;l+=4)i[l]=t[l];return i}var M,R,E;function P(t,n,e,r,i){switch((0,f.B)(r,e,U,r),t===R.FROM_PCPF&&(0,l.U_)(U,U),n){case M.NORMAL:return(0,o.XL)(i,U);case M.TANGENT:return(0,o.xO)(i,U)}}function O(t,n,e,r,o,i,l,a){if(!n)return;const c=r.count;if(function(t){return t.isWGS84||(0,d.yW)(t)||(0,d.BZ)(t)||(0,d.V2)(t)}(o))for(let f=0;f<c;f++)i.getVec(f,C),n.getVec(f,N),(0,u.q)(N,N,P(t,e,C,l,x)),a.setVec(f,N);else for(let f=0;f<c;f++){i.getVec(f,C),n.getVec(f,N);const o=(0,p.mZ)(r.get(f,1));let c=Math.cos(o);e===M.TANGENT!=(t===R.TO_PCPF)&&(c=1/c),P(t,e,C,l,x),t===R.TO_PCPF?(x[0]*=c,x[1]*=c,x[2]*=c,x[3]*=c,x[4]*=c,x[5]*=c):(x[0]*=c,x[3]*=c,x[6]*=c,x[1]*=c,x[4]*=c,x[7]*=c),(0,u.q)(N,N,x),(0,u.n)(N,N),a.setVec(f,N)}return a}(E=M||(M={}))[E.NORMAL=0]="NORMAL",E[E.TANGENT=1]="TANGENT",function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(R||(R={}));const C=(0,c.Ue)(),N=(0,c.Ue)(),U=(0,a.Ue)(),x=(0,i.Ue)()},66149:(t,n,e)=>{e.d(n,{qk:()=>w,ur:()=>M,x1:()=>T});var r=e(32718),o=e(16889),i=e(68860),l=e(29303),a=e(21389),u=e(29134),c=e(7025),f=e(32035),s=e(12400),d=e(29691),p=e(86452),g=e(68859),y=e(69048),h=e(92975),m=e(11186),v=e(11700);const A=()=>r.Z.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function T(t,n,e){let{vertexSpace:r,spatialReference:o}=e;if("georeferenced"===r.type){const e=t;if(!(0,g.K)(n,e,o))return!1;const{origin:i}=r;return(0,f.d)(t,e,i),!0}const i=(0,d.rS)(o),l=t;if(!(0,g.K)(n,l,i))return!1;const{origin:a}=r,c=C;if(!(0,p.B)(o,a,c,i))return!1;const s=(0,u.U_)(C,c);return null!=s&&((0,f.t)(t,l,s),!0)}function w(t,n,e){const{vertexSpace:r,transform:o,vertexAttributes:i}=t,a=(0,y.zZ)(r)?o:null,s=F(t.spatialReference,e,N.SOURCE_AND_TARGET);if((0,y.vI)(r,n)&&(!a||(0,u.I6)(a.localMatrix,c.Wd))&&b(s)){const{position:t,normal:n,tangent:r}=i,o=null===e||void 0===e?void 0:e.allowBufferReuse;return{position:o?t:t.slice(),normal:o?n:null===n||void 0===n?void 0:n.slice(),tangent:o?r:null===r||void 0===r?void 0:r.slice()}}switch(t.vertexSpace.type){case"local":return"local"===n.type?function(t,n,e,r){let{vertexAttributes:o,spatialReference:i,transform:l}=t,{origin:a}=n;const c=_(i,r);if(!(0,p.B)(i,a,R,c))return(0,v.pn)(A(),i,c),null;if(l&&(0,u.Jp)(R,R,l.localMatrix),!(0,p.B)(i,e,E,c))return(0,v.pn)(A(),c,i),null;(0,u.U_)(E,E);const f=(0,u.Jp)(R,E,R);return S(f,i,r,N.SOURCE_AND_TARGET),B(o,f)}(t,t.vertexSpace,n.origin,e):function(t,n,e,r){let{spatialReference:o,vertexAttributes:i,transform:l}=t,{origin:a}=n;const c=_(o,r);if(!(0,p.B)(o,a,R,c))return(0,v.pn)(A(),o,c),null;l&&(0,u.Jp)(R,R,l.localMatrix),S(R,o,r,N.SOURCE);const s=new Float64Array(i.position.length),d=function(t,n,e,r,o){(0,m.t)(r,t,n);const i=new Float64Array(t.length);return(0,v.To)(r,o,i,e)?i:((0,v.pn)(A(),o,e),null)}(i.position,R,o,s,c);if(!d)return null;const g=function(t,n,e,r,o,i){if(null==o)return null;const l=new Float32Array(o.length);return(0,v.w9)(o,l,i),(0,v.Yk)(l,t,n,e,r,l)?l:((0,v.pn)(A(),r,n),null)}(d,o,s,c,i.normal,R);if(i.normal&&!g)return null;const y=function(t,n,e,r,o,i){if(null==o)return null;const l=new Float32Array(o.length);return(0,v.VS)(o,l,i),(0,v.M2)(l,t,n,e,r,l)?l:((0,v.pn)(A(),r,n),null)}(d,o,s,c,i.tangent,R);if(i.tangent&&!y)return null;if(e){const t=(0,f.v)(O,e);(0,m.a)(d,d,t)}return{position:d,normal:g,tangent:y}}(t,t.vertexSpace,n.origin,e);case"georeferenced":return"local"===n.type?function(t,n,e,r){let{vertexAttributes:o,spatialReference:i,transform:a}=t,{origin:c}=n;const f=_(i,r);if(!(0,p.B)(i,e,R,f))return(0,v.pn)(A(),i,f),null;const s=1/F(i,r,N.TARGET);(0,u.bA)(R,R,[s,s,s]);const d=(0,u.U_)(E,R),{position:g,normal:y,tangent:h}=function(t,n,e){if(!n)return t;if(!e){const{position:e,normal:r,tangent:o}=t;return{position:(0,m.a)(new Float64Array(e.length),e,n),tangent:o,normal:r}}const r=B(t,e.localMatrix);return(0,m.a)(r.position,r.position,n),r}(o,c,a),T=new Float64Array(g.length),w=function(t,n,e,r,o){const i=(0,v.XO)(t,n,r,o);if(!i)return(0,v.pn)(A(),n,o),null;const l=new Float64Array(i.length);return(0,m.t)(l,i,e),l}(g,i,d,T,f);if(!w)return null;const S=(0,l.XL)(P,d),b=function(t,n,e,r,o,i,l){if(null==t)return null;const a=null!==l&&void 0!==l?l:new Float32Array(t.length);return(0,v.Iz)(t,n,e,r,o,a)?((0,m.b)(a,a,i),a):((0,v.pn)(A(),e,o),null)}(y,g,i,T,f,S,y!==o.normal?y:void 0);if(!b&&y)return null;const M=function(t,n,e,r,o,i,l){if(null==t)return null;const a=null!==l&&void 0!==l?l:new Float32Array(t.length);return(0,v.wi)(t,n,e,r,o,a)?((0,m.b)(a,a,i,4),a):((0,v.pn)(A(),e,o),null)}(h,g,i,T,f,S,h!==o.tangent?h:void 0);return!M&&h?null:{position:w,normal:b,tangent:M}}(t,t.vertexSpace,n.origin,e):function(t,n,e,r){var o;let{vertexAttributes:i,transform:l,spatialReference:a}=t,{origin:s}=n;const d=F(a,r,N.SOURCE_AND_TARGET),p=s||!b(d)?(0,u.JG)(R,null!==(o=null===l||void 0===l?void 0:l.localMatrix)&&void 0!==o?o:c.Wd):null;p&&S(p,a,r,N.SOURCE_AND_TARGET);const{position:g,normal:y,tangent:h}=p?B(i,p):i,v=null===r||void 0===r?void 0:r.allowBufferReuse,A=v?g:new Float64Array(g.length);let T=g;if(s&&(T=(0,m.a)(A,T,s)),e){const t=(0,f.v)(O,e);T=(0,m.a)(A,T,t)}return{position:T!==i.position||v?T:T.slice(),normal:y!==i.normal||v?y:null===y||void 0===y?void 0:y.slice(),tangent:h!==i.tangent||v?h:null===h||void 0===h?void 0:h.slice()}}(t,t.vertexSpace,n.origin,e)}}function _(t,n){return null!==n&&void 0!==n&&n.useEllipsoid&&(0,h.N$)(t)?d.wY:(0,d.rS)(t)}function B(t,n){const e=new Float64Array(t.position.length);(0,m.t)(e,t.position,n);const r=t.normal?new Float32Array(t.normal.length):null,o=t.tangent?new Float32Array(t.tangent.length):null;return r&&t.normal&&(0,v.w9)(t.normal,r,n),o&&t.tangent&&(0,v.VS)(t.tangent,o,n),{position:e,normal:r,tangent:o}}function S(t,n,e,r){const o=F(n,e,r);b(o)||(0,u.bA)(t,t,[o,o,o])}function F(t,n,e){const r=!!(e&N.SOURCE),o=!!(e&N.TARGET),i=null===n||void 0===n?void 0:n.sourceUnit,l=null===n||void 0===n?void 0:n.targetUnit;if(!i&&!l)return 1;let a=M(i,t);r||!i||b(a)||(A().warn("source unit conversion not supported"),a=1);let u=1/M(l,t);return o||!l||b(u)||(A().warn("target unit conversion not supported"),u=1),a*u}function b(t){return(0,o.Po)(t,1)}function M(t,n){if(null==t)return 1;const e=(0,i.r6)(n);return 1/(0,i.En)(e,"meters",t)}const R=(0,c.Ue)(),E=(0,c.Ue)(),P=(0,a.Ue)(),O=(0,s.Ue)(),C=(0,c.Ue)();var N;!function(t){t[t.NONE=0]="NONE",t[t.SOURCE=1]="SOURCE",t[t.TARGET=2]="TARGET",t[t.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"}(N||(N={}))}}]);
//# sourceMappingURL=7906.09ddcd98.chunk.js.map