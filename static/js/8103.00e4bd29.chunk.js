"use strict";(self.webpackChunkn2_trees=self.webpackChunkn2_trees||[]).push([[8103],{82272:(e,t,n)=>{n.d(t,{BN:()=>r,Yc:()=>d,em:()=>i,mx:()=>c});var l=n(42265);const i="arial-unicode-ms",o="woff2",a=new Map,s=new Set;class u{constructor(e,t){this.fontFace=e,this.promise=t}}async function c(e){const t=h(e),n=d(e),i=a.get(t);if(i)return i.promise;const c=new FontFace(e.family,"url('".concat(l.default.fontsUrl,"/woff2/").concat(n,".").concat(o,"') format('").concat(o,"')"),{style:e.style,weight:e.weight}),r=document.fonts;if(r.has(c)&&"loading"===c.status)return c.loaded;const m=c.load().then((()=>(r.add(c),c)));return a.set(t,new u(c,m)),s.add(c),m}function r(e){if(!e)return i;const t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}function d(e){const t=m(e)+v(e);return r(e.family)+(t.length>0?t:"-regular")}function h(e){const t=m(e)+v(e);return(e.family||i)+(t.length>0?t:"-regular")}function m(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}function v(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}},8103:(e,t,n)=>{n.d(t,{previewSymbol2D:()=>S});var l=n(1413),i=n(51995),o=n(86950),a=n(10064),s=n(82272),u=n(17842),c=n(79563),r=n(37817),d=n(69157),h=n(81283);const m="picture-fill",v="picture-marker",f="simple-fill",p="simple-line",y="simple-marker",w="text",g="Aa",b=r.b_.size,x=r.b_.maxSize,M=r.b_.maxOutlineSize,k=r.b_.lineWidth,L=225,z=document.createElement("canvas");function C(e,t){const n=z.getContext("2d"),l=[];t&&(t.weight&&l.push(t.weight),t.size&&l.push(t.size+"px"),t.family&&l.push(t.family)),n.font=l.join(" ");const{width:i,actualBoundingBoxLeft:o,actualBoundingBoxRight:a,actualBoundingBoxAscent:s,actualBoundingBoxDescent:u}=n.measureText(e);return{width:Math.ceil(Math.max(i,o+a)),height:Math.ceil(s+u),x:Math.floor(o),y:Math.floor((s-u)/2)}}function F(e){const t=null===e||void 0===e?void 0:e.size;return{width:null!=t&&"object"==typeof t&&"width"in t?(0,u.F2)(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?(0,u.F2)(t.height):null}}function Z(e,t){return e>t?"dark":"light"}async function S(e,t){var n;const{shapeDescriptor:i,size:o,renderOptions:L}=function(e,t){var n,i,o;const a="number"==typeof(null===t||void 0===t?void 0:t.size)?null===t||void 0===t?void 0:t.size:null,s=null!=a?(0,u.F2)(a):null,d=null!=(null===t||void 0===t?void 0:t.maxSize)?(0,u.F2)(t.maxSize):null;let h="angle"in e?e.angle:null;null!=(null===t||void 0===t?void 0:t.rotation)&&(h=(null!==(n=h)&&void 0!==n?n:0)+t.rotation);const L=(0,c._M)(e);let z=(0,c.mx)(e);"dark"!==B(e,245)||(null===t||void 0===t?void 0:t.ignoreWhiteSymbols)||(z=(0,l.Z)((0,l.Z)({width:.75},z),{},{color:"#bdc3c7"}));const Z={shape:null,fill:L,stroke:z,offset:[0,0]};(null===(i=z)||void 0===i?void 0:i.width)&&(z.width=Math.min(z.width,M));const S=(null===(o=z)||void 0===o?void 0:o.width)||0;let _=null!=(null===t||void 0===t?void 0:t.size)&&(null==(null===t||void 0===t?void 0:t.scale)||(null===t||void 0===t?void 0:t.scale)),j=0,E=0,D=!1;switch(e.type){case y:{const n=e.style,{width:l,height:i}=F(t),o=l===i&&null!=l?l:null!=s?s:Math.min((0,u.F2)(e.size),d||x);switch(j=o,E=o,n){case"circle":Z.shape={type:"circle",cx:0,cy:0,r:.5*o},_||(j+=S,E+=S);break;case"cross":Z.shape={type:"path",path:[{command:"M",values:[0,.5*E]},{command:"L",values:[j,.5*E]},{command:"M",values:[.5*j,0]},{command:"L",values:[.5*j,E]}]};break;case"diamond":Z.shape={type:"path",path:[{command:"M",values:[0,.5*E]},{command:"L",values:[.5*j,0]},{command:"L",values:[j,.5*E]},{command:"L",values:[.5*j,E]},{command:"Z",values:[]}]},_||(j+=S,E+=S);break;case"square":Z.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[j,0]},{command:"L",values:[j,E]},{command:"L",values:[0,E]},{command:"Z",values:[]}]},_||(j+=S,E+=S),h&&(D=!0);break;case"triangle":Z.shape={type:"path",path:[{command:"M",values:[.5*j,0]},{command:"L",values:[j,E]},{command:"L",values:[0,E]},{command:"Z",values:[]}]},_||(j+=S,E+=S),h&&(D=!0);break;case"x":Z.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[j,E]},{command:"M",values:[j,0]},{command:"L",values:[0,E]}]},h&&(D=!0);break;case"path":Z.shape={type:"path",path:e.path||""},_||(j+=S,E+=S),h&&(D=!0),_=!0}break}case p:{var O;const{width:e,height:n}=F(t),l=(0,c.iI)(z).reduce(((e,t)=>e+t),0),i=l&&Math.ceil(k/l),o=null!==(O=null!==n&&void 0!==n?n:s)&&void 0!==O?O:S,a=null!==e&&void 0!==e?e:l*i||k;z&&(z.width=o),j=a,E=o,_=!0,Z.shape={type:"path",path:[{command:"M",values:[o/2,E/2]},{command:"L",values:[j-o/2,E/2]}]};break}case m:case f:{var q;const e="object"==typeof(null===t||void 0===t?void 0:t.symbolConfig)&&!(null===t||void 0===t||null===(q=t.symbolConfig)||void 0===q||!q.isSquareFill),{width:n,height:l}=F(t);j=!e&&n!==l||null==n?null!=s?s:b:n,E=!e&&n!==l||null==l?j:l,_||(j+=S,E+=S),_=!0,Z.shape=e?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[j,0]},{command:"L",values:[j,E]},{command:"L",values:[0,E]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:r.JZ.fill[0];break}case v:{const n=Math.min((0,u.F2)(e.width),d||x),l=Math.min((0,u.F2)(e.height),d||x),{width:i,height:o}=F(t),a=i===o&&null!=i?i:null!=s?s:Math.max(n,l),c=n/l;j=c<=1?Math.ceil(a*c):a,E=c<=1?a:Math.ceil(a/c),Z.shape={type:"image",x:-Math.round(j/2),y:-Math.round(E/2),width:j,height:E,src:e.url||""},h&&(D=!0);break}case w:{const n=e,l=(null===t||void 0===t?void 0:t.overrideText)||n.text||g,i=n.font,{width:o,height:a}=F(t),c=null!=a?a:null!=s?s:Math.min((0,u.F2)(i.size),d||x),{width:r,height:h}=C(l,{weight:i.weight,size:c,family:i.family}),m=/[\uE600-\uE6FF]/.test(l);j=null!==o&&void 0!==o?o:m?c:r,E=m?c:h;let v=.5*(m?c:h);m&&(v+=5),Z.shape={type:"text",text:l,x:n.xoffset||0,y:n.yoffset||v,align:"middle",alignBaseline:n.verticalAlignment,decoration:i&&i.decoration,rotated:n.rotated,kerning:n.kerning},Z.font=i&&{size:c,style:i.style,decoration:i.decoration,weight:i.weight,family:i.family};break}}return{shapeDescriptor:Z,size:[j,E],renderOptions:{node:null===t||void 0===t?void 0:t.node,scale:_,opacity:null===t||void 0===t?void 0:t.opacity,rotations:[h],useRotationSize:D,effectView:null===t||void 0===t?void 0:t.effectView,ariaLabel:null===t||void 0===t?void 0:t.ariaLabel}}}(e,t);if(!i.shape)throw new a.Z("symbolPreview: renderPreviewHTML2D","symbol not supported.");await async function(e,t){const n=t.fill,l=e.color;if("pattern"===(null===n||void 0===n?void 0:n.type)&&l&&e.type!==m){const e=await(0,c.Od)(n.src,l.toCss(!0));n.src=e,t.fill=n}}(e,i),await async function(e,t,n,l){if(!("font"in e)||!e.font||"text"!==t.shape.type)return;try{await(0,s.mx)(e.font)}catch(d){}const{width:i,height:o}=F(l);if(!/[\uE600-\uE6FF]/.test(t.shape.text)){var a,u,c,r;const{width:s,height:d,x:h,y:m}=C(t.shape.text,{weight:null===(a=t.font)||void 0===a?void 0:a.weight,size:null===(u=t.font)||void 0===u?void 0:u.size,family:null===(c=t.font)||void 0===c?void 0:c.family});n[0]=null!==i&&void 0!==i?i:s,n[1]=null!==o&&void 0!==o?o:d,t.shape.x=h,t.shape.y=m;let v="angle"in e?e.angle:null;if(null!=(null===l||void 0===l?void 0:l.rotation)&&(v=(null!==(r=v)&&void 0!==r?r:0)+l.rotation),v){const e=v*(Math.PI/180),t=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));n[1]=n[0]*t+n[1]*l}}}(e,i,o,t);const z=[[i]];if("object"==typeof(null===t||void 0===t?void 0:t.symbolConfig)&&null!==t&&void 0!==t&&null!==(n=t.symbolConfig)&&void 0!==n&&n.applyColorModulation){const e=.6*o[0];z.unshift([(0,l.Z)((0,l.Z)({},i),{},{offset:[-e,0],fill:(0,r.dc)(i.fill,-.3)})]),z.push([(0,l.Z)((0,l.Z)({},i),{},{offset:[e,0],fill:(0,r.dc)(i.fill,.3)})]),o[0]+=2*e,L.scale=!1}return"text"===e.type&&function(e,t,n,i,o){var a;if(null!=e.haloColor&&null!=e.haloSize){var s;null!==(s=o.masking)&&void 0!==s||(o.masking=n.map((()=>[])));const a=(0,u.F2)(e.haloSize);i[0]+=a,i[1]+=a,n.unshift([(0,l.Z)((0,l.Z)({},t),{},{fill:null,stroke:{color:e.haloColor,width:2*a,join:"round",cap:"round"}})]),o.masking.unshift([{shape:{type:"rect",x:0,y:0,width:i[0]+2*h.c9,height:i[1]+2*h.c9},fill:[255,255,255],stroke:null},(0,l.Z)((0,l.Z)({},t),{},{fill:[0,0,0,0],stroke:null})])}null==e.backgroundColor&&null==e.borderLineColor||(i[0]+=2*h.c9,i[1]+=2*h.c9,n.unshift([{shape:{type:"rect",x:0,y:0,width:i[0],height:i[1]},fill:e.backgroundColor,stroke:{color:e.borderLineColor,width:(0,u.F2)(e.borderLineSize)}}]),null===(a=o.masking)||void 0===a||a.unshift([]))}(e,i,z,o,L),(0,d.wh)(z,o,L)}function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;const n=(0,c._M)(e),l=(0,c.mx)(e),a=!n||"type"in n?null:new i.Z(n),s=null!==l&&void 0!==l&&l.color?new i.Z(null===l||void 0===l?void 0:l.color):null,u=a?Z((0,o.EX)(a),t):null,r=s?Z((0,o.EX)(s),t):null;return r?u?u===r?u:t>=L?"light":"dark":r:u}}}]);
//# sourceMappingURL=8103.00e4bd29.chunk.js.map