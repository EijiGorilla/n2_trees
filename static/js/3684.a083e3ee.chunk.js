"use strict";(self.webpackChunkn2_trees=self.webpackChunkn2_trees||[]).push([[3684],{53684:(e,i,r)=>{r.r(i),r.d(i,{default:()=>w});var s=r(27366),t=r(44055),n=r(40281),a=r(94172),h=(r(32718),r(93169),r(84936),r(10064),r(69912)),o=r(34999),l=r(9014),p=r(49818),c=r(88109),d=r(75391),y=r(85992),g=r(67581);let u=class extends((0,c.y)(g.Z)){constructor(){super(...arguments),this._graphicsViewMap={},this._popupTemplates=new Map,this.graphicsViews=[]}async hitTest(e,i){if(!this.graphicsViews.length)return null;const r=this.layer;return this.graphicsViews.reverse().flatMap((i=>{const s=this._popupTemplates.get(i),t=i.hitTest(e);for(const e of t)e.layer=r,e.sourceLayer=r,e.popupTemplate=s;return t})).map((i=>({type:"graphic",graphic:i,layer:r,mapPoint:e})))}update(e){if(this.graphicsViews)for(const i of this.graphicsViews)i.processUpdate(e)}attach(){this.addAttachHandles([(0,a.YP)((()=>{var e;return null===(e=this.layer)||void 0===e?void 0:e.featureCollections}),(e=>{this._clear();for(const{popupInfo:i,featureSet:r,layerDefinition:s}of e){const e=p.Z.fromJSON(r),a=new n.Z(e.features),h=s.drawingInfo,o=i?t.Z.fromJSON(i):null,c=(0,l.i)(h.renderer),g=new y.Z({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:a,renderer:c,container:new d.Z(this.view.featuresTilingScheme)});this._graphicsViewMap[e.geometryType]=g,this._popupTemplates.set(g,o),"polygon"!==e.geometryType||this.layer.polygonSymbol?"polyline"!==e.geometryType||this.layer.lineSymbol?"point"!==e.geometryType||this.layer.pointSymbol||(this.layer.pointSymbol=c.symbol):this.layer.lineSymbol=c.symbol:this.layer.polygonSymbol=c.symbol,this.graphicsViews.push(g),this.container.addChild(g.container)}}),a.nn),(0,a.YP)((()=>{var e;return null===(e=this.layer)||void 0===e?void 0:e.polygonSymbol}),(e=>{this._graphicsViewMap.polygon.renderer=new o.Z({symbol:e})}),a.nn),(0,a.YP)((()=>{var e;return null===(e=this.layer)||void 0===e?void 0:e.lineSymbol}),(e=>{this._graphicsViewMap.polyline.renderer=new o.Z({symbol:e})}),a.nn),(0,a.YP)((()=>{var e;return null===(e=this.layer)||void 0===e?void 0:e.pointSymbol}),(e=>{this._graphicsViewMap.point.renderer=new o.Z({symbol:e})}),a.nn)])}detach(){this._clear()}moveEnd(){}viewChange(){for(const e of this.graphicsViews)e.viewChange()}_clear(){this.container.removeAllChildren();for(const e of this.graphicsViews)e.destroy();this._graphicsViewMap={},this._popupTemplates.clear(),this.graphicsViews.length=0}};u=(0,s._)([(0,h.j)("esri.views.2d.layers.GeoRSSLayerView2D")],u);const w=u},75391:(e,i,r)=>{r.d(i,{Z:()=>a});var s=r(80613),t=r(39444),n=r(39594);class a extends t.K{renderChildren(e){for(const i of this.children)i.setTransform(e.state);if(super.renderChildren(e),this._updateAttributeView(),this.children.some((e=>e.hasData))){switch(e.drawPhase){case s.jx.MAP:this._renderChildren(e,s.Xq.All);break;case s.jx.HIGHLIGHT:this.hasHighlight&&this._renderHighlight(e)}this._boundsRenderer&&this._boundsRenderer.doRender(e)}}_renderHighlight(e){(0,n.P9)(e,!1,(e=>{this._renderChildren(e,s.Xq.Highlight)}))}}}}]);
//# sourceMappingURL=3684.a083e3ee.chunk.js.map