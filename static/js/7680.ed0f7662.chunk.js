"use strict";(self.webpackChunkn2_trees=self.webpackChunkn2_trees||[]).push([[7680],{80573:(t,n,e)=>{e.d(n,{Z:()=>b});var i=e(27366),r=e(7138),s=e(63780),o=e(11582),a=e(79056),c=e(46784),u=e(49861),l=(e(93169),e(32718),e(69912));let g=0,d=class extends((0,c.eC)((0,o.J)((0,a.IG)(r.Z)))){constructor(t){super(t),this.id="".concat(Date.now().toString(16),"-analysis-").concat(g++),this.title=null}get parent(){return this._get("parent")}set parent(t){const n=this.parent;if(null!=n)switch(n.type){case"line-of-sight":case"dimension":case"viewshed":n.releaseAnalysis(this);break;case"2d":case"3d":n.analyses.includes(this)&&n.analyses.remove(this)}this._set("parent",t)}get isEditable(){return this.requiredPropertiesForEditing.every(s.pC)}};(0,i._)([(0,u.Cb)({type:String,constructOnly:!0,clonable:!1})],d.prototype,"id",void 0),(0,i._)([(0,u.Cb)({type:String})],d.prototype,"title",void 0),(0,i._)([(0,u.Cb)({clonable:!1,value:null})],d.prototype,"parent",null),(0,i._)([(0,u.Cb)({readOnly:!0})],d.prototype,"isEditable",null),d=(0,i._)([(0,l.j)("esri.analysis.Analysis")],d);const b=d},83206:(t,n,e)=>{e.d(n,{kk:()=>s,rX:()=>a});e(32035);var i=e(12400),r=e(40885);e(54463),e(29134),e(41414),e(83479),e(55848),e(22178);e(22255);(0,i.Ue)();function s(t,n){return o(t)===o(n)}function o(t){if(null==t)return null;const n=null!=t.layer?t.layer.id:"";let e=null;return e=null!=t.objectId?t.objectId:null!=t.layer&&"objectIdField"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid,null==e?null:"o-".concat(n,"-").concat(e)}const a={json:{write:{writer:function(t,n){var e;null!=(null===t||void 0===t||null===(e=t.layer)||void 0===e?void 0:e.objectIdField)&&null!=t.attributes&&(n.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function(t){if(null!=t.layerId&&null!=t.objectId)return{uid:null,layer:{id:t.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:t.objectId}}}}}}};(0,r.Ue)(),(0,i.Ue)()},82218:(t,n,e)=>{e.d(n,{a:()=>v,b:()=>J,c:()=>M,f:()=>U,u:()=>m});e(93169);var i=e(32718),r=e(16889),s=e(21530),o=e(29134),a=e(7025),c=e(32035),u=e(12400),l=e(65156),g=e(14320),d=e(85981),b=e(55652),f=e(40885),p=e(40927),h=e(11185);const I=()=>i.Z.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");const y=class{constructor(){this.plane=(0,b.Ue)(),this.origin=(0,u.Ue)(),this.basis1=(0,u.Ue)(),this.basis2=(0,u.Ue)()}};function v(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return{plane:(0,b.Ue)(t.plane),origin:(0,u.d9)(t.origin),basis1:(0,u.d9)(t.basis1),basis2:(0,u.d9)(t.basis2)}}function M(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v();return U(t.origin,t.basis1,t.basis2,n)}function U(t,n,e){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v();return(0,c.c)(i.origin,t),(0,c.c)(i.basis1,n),(0,c.c)(i.basis2,e),m(i),function(t,n){Math.abs((0,c.f)(t.basis1,t.basis2)/((0,c.l)(t.basis1)*(0,c.l)(t.basis2)))>1e-6&&I().warn(n,"Provided basis vectors are not perpendicular"),Math.abs((0,c.f)(t.basis1,T(t)))>1e-6&&I().warn(n,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,c.f)(T(t),t.origin)-t.plane[3])>1e-6&&I().warn(n,"Plane offset is not consistent with plane origin")}(i,"fromValues()"),i}function m(t){(0,b.my)(t.basis2,t.basis1,t.origin,t.plane)}function S(t,n,e){t!==e&&M(t,e);const i=(0,c.h)(h.WM.get(),T(t),n);return(0,c.g)(e.origin,e.origin,i),e.plane[3]-=n,e}function j(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v();const e=(t[2]-t[0])/2,i=(t[3]-t[1])/2;return(0,c.i)(n.origin,t[0]+e,t[1]+i,0),(0,c.i)(n.basis1,e,0,0),(0,c.i)(n.basis2,0,i,0),(0,b.al)(0,0,1,0,n.plane),n}function N(t,n,e){return!!(0,b.BR)(t.plane,n,e)&&L(t,e)}function W(t,n,e){const i=k.get();C(t,n,i,k.get());let s=Number.POSITIVE_INFINITY;for(const o of Y){const a=x(t,o,F.get()),u=h.WM.get();if((0,b.rx)(i,a,u)){const t=(0,c.o)(h.WM.get(),n.origin,u),i=Math.abs((0,r.ZF)((0,c.f)(n.direction,t)));i<s&&(s=i,(0,c.c)(e,u))}}return s===Number.POSITIVE_INFINITY?_(t,n,e):e}function _(t,n,e){if(N(t,n,e))return e;const i=k.get(),r=k.get();C(t,n,i,r);let s=Number.POSITIVE_INFINITY;for(const o of Y){const a=x(t,o,F.get()),u=h.WM.get();if((0,b.dZ)(i,a,u)){const t=(0,f.Jk)(n,u);if(!(0,b.Ac)(r,u))continue;t<s&&(s=t,(0,c.c)(e,u))}}return A(t,n.origin)<s&&w(t,n.origin,e),e}function w(t,n,e){const i=(0,b.nF)(t.plane,n,h.WM.get()),r=(0,d.ct)(P(t,t.basis1),i,-1,1,h.WM.get()),s=(0,d.ct)(P(t,t.basis2),i,-1,1,h.WM.get());return(0,c.d)(e,(0,c.g)(h.WM.get(),r,s),t.origin),e}function E(t,n,e){const{origin:i,basis1:r,basis2:s}=t,o=(0,c.d)(h.WM.get(),n,i),a=(0,p.SR)(r,o),u=(0,p.SR)(s,o),l=(0,p.SR)(T(t),o);return(0,c.i)(e,a,u,l)}function A(t,n){const e=E(t,n,h.WM.get()),{basis1:i,basis2:r}=t,s=(0,c.l)(i),o=(0,c.l)(r),a=Math.max(Math.abs(e[0])-s,0),u=Math.max(Math.abs(e[1])-o,0),l=e[2];return a*a+u*u+l*l}function O(t,n){const e=-t.plane[3];return(0,p.SR)(T(t),n)-e}function T(t){return(0,b.st)(t.plane)}function L(t,n){const e=(0,c.d)(h.WM.get(),n,t.origin),i=(0,c.k)(t.basis1),r=(0,c.k)(t.basis2),s=(0,c.f)(t.basis1,e),o=(0,c.f)(t.basis2,e);return-s-i<0&&s-i<0&&-o-r<0&&o-r<0}function P(t,n){const e=F.get();return(0,c.c)(e.origin,t.origin),(0,c.c)(e.vector,n),e}function x(t,n,e){const{basis1:i,basis2:r,origin:s}=t,o=(0,c.h)(h.WM.get(),i,n.origin[0]),a=(0,c.h)(h.WM.get(),r,n.origin[1]);(0,c.g)(e.origin,o,a),(0,c.g)(e.origin,e.origin,s);const u=(0,c.h)(h.WM.get(),i,n.direction[0]),l=(0,c.h)(h.WM.get(),r,n.direction[1]);return(0,c.h)(e.vector,(0,c.g)(u,u,l),2),e}function C(t,n,e,i){const r=T(t);(0,b.my)(r,n.direction,n.origin,e),(0,b.my)((0,b.st)(e),r,n.origin,i)}const R={plane:(0,b.Ue)(),origin:(0,u.al)(0,0,0),basis1:(0,u.al)(1,0,0),basis2:(0,u.al)(0,1,0)},k=new s.x(b.Ue),F=new s.x(d.Ue),V=(0,u.Ue)(),D=new s.x((()=>v())),Y=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],Z=(0,a.Ue)(),B=(0,a.Ue)(),J=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:y,altitudeAt:O,axisAt:function(t,n,e,i){return function(t,n,e){switch(n){case g.R.X:(0,c.c)(e,t.basis1),(0,c.n)(e,e);break;case g.R.Y:(0,c.c)(e,t.basis2),(0,c.n)(e,e);break;case g.R.Z:(0,c.c)(e,T(t))}return e}(t,e,i)},cameraFrustumCoverage:function(t,n){return(n-t)/n},closestPoint:_,closestPointOnSilhouette:W,copy:M,copyWithoutVerify:function(t,n){(0,c.c)(n.origin,t.origin),(0,c.c)(n.basis1,t.basis1),(0,c.c)(n.basis2,t.basis2),(0,b.JG)(n.plane,t.plane)},create:v,distance:function(t,n){return Math.sqrt(A(t,n))},distance2:A,distanceToSilhouette:function(t,n){let e=Number.NEGATIVE_INFINITY;for(const i of Y){const r=x(t,i,F.get()),s=(0,d.Jk)(r,n);s>e&&(e=s)}return Math.sqrt(e)},elevate:S,equals:function(t,n){return(0,c.p)(t.basis1,n.basis1)&&(0,c.p)(t.basis2,n.basis2)&&(0,c.p)(t.origin,n.origin)},extrusionContainsPoint:function(t,n){return(0,b.Ac)(t.plane,n)&&L(t,n)},fromAABoundingRect:j,fromValues:U,getExtent:function(t,n){const e=t.basis1[0],i=t.basis2[1],[r,s]=t.origin;return(0,l.al)(r-e,s-i,r+e,s+i,n)},intersectRay:N,intersectRayClosestSilhouette:function(t,n,e){if(N(t,n,e))return e;const i=W(t,n,h.WM.get());return(0,c.g)(e,n.origin,(0,c.h)(h.WM.get(),n.direction,(0,c.j)(n.origin,i)/(0,c.l)(n.direction))),e},normal:T,projectPoint:w,projectPointLocal:E,rotate:function(t,n,e,i){return t!==i&&M(t,i),(0,o.Us)(B,n,e),(0,c.t)(i.basis1,t.basis1,B),(0,c.t)(i.basis2,t.basis2,B),m(i),i},setAltitudeAt:function(t,n,e,i){const r=O(t,n),s=(0,c.h)(V,T(t),e-r);return(0,c.g)(i,n,s),i},setExtent:function(t,n,e){return j(n,e),S(e,O(t,t.origin),e),e},transform:function(t,n,e){return t!==e&&M(t,e),(0,o.U_)(Z,n),(0,o.p4)(Z,Z),(0,c.t)(e.basis1,t.basis1,Z),(0,c.t)(e.basis2,t.basis2,Z),(0,c.t)((0,b.st)(e.plane),(0,b.st)(t.plane),Z),(0,c.t)(e.origin,t.origin,n),(0,b.T5)(e.plane,e.plane,e.origin),e},up:R,updateUnboundedPlane:m,wrap:function(t,n,e){const i=D.get();return i.origin=t,i.basis1=n,i.basis2=e,i.plane=(0,b.re)(0,0,0,0),m(i),i}},Symbol.toStringTag,{value:"Module"}))},21389:(t,n,e)=>{function i(){return[1,0,0,0,1,0,0,0,1]}function r(t,n,e,i,r,s,o,a,c){return[t,n,e,i,r,s,o,a,c]}e.d(n,{Ue:()=>i,Wd:()=>s,al:()=>r});const s=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:i,createView:function(t,n){return new Float64Array(t,n,9)},fromValues:r},Symbol.toStringTag,{value:"Module"}))},85981:(t,n,e)=>{e.d(n,{Jk:()=>l,Ue:()=>c,ct:()=>d,nF:()=>g,zk:()=>u});var i=e(16889),r=e(21530),s=e(32035),o=e(12400),a=e(11185);function c(t){return t?{origin:(0,o.d9)(t.origin),vector:(0,o.d9)(t.vector)}:{origin:(0,o.Ue)(),vector:(0,o.Ue)()}}function u(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();return(0,s.c)(e.origin,t),(0,s.d)(e.vector,n,t),e}function l(t,n){const e=(0,s.d)(a.WM.get(),n,t.origin),r=(0,s.f)(t.vector,e),o=(0,s.f)(t.vector,t.vector),c=(0,i.uZ)(r/o,0,1),u=(0,s.d)(a.WM.get(),(0,s.h)(a.WM.get(),t.vector,c),e);return(0,s.f)(u,u)}function g(t,n,e){return d(t,n,0,1,e)}function d(t,n,e,r,o){const{vector:c,origin:u}=t,l=(0,s.d)(a.WM.get(),n,u),g=(0,s.f)(c,l)/(0,s.k)(c);return(0,s.h)(o,c,(0,i.uZ)(g,e,r)),(0,s.g)(o,o,t.origin)}(0,o.Ue)(),(0,o.Ue)(),new r.x((()=>c()))},54463:(t,n,e)=>{var i,r;e.d(n,{eC:()=>r,q7:()=>i}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(i||(i={}));!function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(r||(r={}))},55848:(t,n,e)=>{e.d(n,{Dx:()=>r});e(12400);class i{constructor(t){this.layerUid=t}}class r extends i{constructor(t,n){super(t),this.graphicUid=n}}},22178:(t,n,e)=>{e.d(n,{nn:()=>r});e(32035);var i=e(12400);e(82218),e(54463);function r(t){return null!=(null===t||void 0===t?void 0:t.dist)}(0,i.Ue)()},22255:(t,n,e)=>{e.d(n,{x:()=>r});e(54463);var i=e(55848);e(22178);class r extends i.Dx{constructor(t,n,e,i,r,s){super(t,n),this.layerUid=t,this.graphicUid=n,this.geometryId=e,this.triangleNr=i,this.baseBoundingSphere=r,this.numLodLevels=s}}}}]);
//# sourceMappingURL=7680.ed0f7662.chunk.js.map