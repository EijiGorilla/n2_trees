"use strict";(self.webpackChunkn2_trees=self.webpackChunkn2_trees||[]).push([[1429],{21530:(t,e,n)=>{n.d(e,{x:()=>o});var r=n(70758);class o{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.Y)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*s);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,s));t++)this._items.push(this._allocator())}}const s=1024},21389:(t,e,n)=>{function r(){return[1,0,0,0,1,0,0,0,1]}function o(t,e,n,r,o,s,i,a,c){return[t,e,n,r,o,s,i,a,c]}n.d(e,{Ue:()=>r,Wd:()=>s,al:()=>o});const s=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:r,createView:function(t,e){return new Float64Array(t,e,9)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},7025:(t,e,n)=>{function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}n.d(e,{Ue:()=>r,Wd:()=>s,d9:()=>o});const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:o,create:r,createView:function(t,e){return new Float64Array(t,e,16)},fromValues:function(t,e,n,r,o,s,i,a,c,u,l,f,E,h,M,T){return[t,e,n,r,o,s,i,a,c,u,l,f,E,h,M,T]}},Symbol.toStringTag,{value:"Module"}))},50894:(t,e,n)=>{function r(){return[0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3]]}n.d(e,{Ue:()=>r,Wd:()=>s,d9:()=>o});const s=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:o,create:r,createView:function(t,e){return new Float64Array(t,e,4)},fromValues:function(t,e,n,r){return[t,e,n,r]}},Symbol.toStringTag,{value:"Module"}))},68700:(t,e,n)=>{n.d(e,{Bh:()=>l,I6:()=>g,Jp:()=>f,Kx:()=>h,Su:()=>T,t8:()=>N,yY:()=>u});var r=n(21389),o=n(50894),s=n(12400),i=n(24204),a=n(32035),c=n(19093);function u(t,e,n){n*=.5;const r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function l(t,e){const n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>(0,i.bn)()?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function f(t,e,n){const r=e[0],o=e[1],s=e[2],i=e[3],a=n[0],c=n[1],u=n[2],l=n[3];return t[0]=r*l+i*a+o*u-s*c,t[1]=o*l+i*c+s*a-r*u,t[2]=s*l+i*u+r*c-o*a,t[3]=i*l-r*a-o*c-s*u,t}function E(t,e,n,r){const o=e[0],s=e[1],a=e[2],c=e[3];let u,l,f,E,h,M=n[0],T=n[1],I=n[2],N=n[3];return l=o*M+s*T+a*I+c*N,l<0&&(l=-l,M=-M,T=-T,I=-I,N=-N),1-l>(0,i.bn)()?(u=Math.acos(l),f=Math.sin(u),E=Math.sin((1-r)*u)/f,h=Math.sin(r*u)/f):(E=1-r,h=r),t[0]=E*o+h*M,t[1]=E*s+h*T,t[2]=E*a+h*I,t[3]=E*c+h*N,t}function h(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function M(t,e){const n=e[0]+e[4]+e[8];let r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);const o=(n+1)%3,s=(n+2)%3;r=Math.sqrt(e[3*n+n]-e[3*o+o]-e[3*s+s]+1),t[n]=.5*r,r=.5/r,t[3]=(e[3*o+s]-e[3*s+o])*r,t[o]=(e[3*o+n]+e[3*n+o])*r,t[s]=(e[3*s+n]+e[3*n+s])*r}return t}function T(t,e,n,r){const o=.5*Math.PI/180;e*=o,n*=o,r*=o;const s=Math.sin(e),i=Math.cos(e),a=Math.sin(n),c=Math.cos(n),u=Math.sin(r),l=Math.cos(r);return t[0]=s*c*l-i*a*u,t[1]=i*a*l+s*c*u,t[2]=i*c*u-s*a*l,t[3]=i*c*l+s*a*u,t}const I=c.c,N=c.s,A=c.f,O=f,d=c.b,m=c.g,p=c.l,S=c.i,R=S,_=c.j,P=_,L=c.n,g=c.a,C=c.e;const v=(0,s.Ue)(),U=(0,s.al)(1,0,0),F=(0,s.al)(0,1,0);const D=(0,o.Ue)(),b=(0,o.Ue)();const w=(0,r.Ue)();Object.freeze(Object.defineProperty({__proto__:null,add:A,calculateW:function(t,e){const n=e[0],r=e[1],o=e[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),t},conjugate:h,copy:I,dot:m,equals:C,exactEquals:g,fromEuler:T,fromMat3:M,getAxisAngle:l,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:function(t,e){const n=e[0],r=e[1],o=e[2],s=e[3],i=n*n+r*r+o*o+s*s,a=i?1/i:0;return t[0]=-n*a,t[1]=-r*a,t[2]=-o*a,t[3]=s*a,t},len:R,length:S,lerp:p,mul:O,multiply:f,normalize:L,random:function(t){const e=i.FD,n=e(),r=e(),o=e(),s=Math.sqrt(1-n),a=Math.sqrt(n);return t[0]=s*Math.sin(2*Math.PI*r),t[1]=s*Math.cos(2*Math.PI*r),t[2]=a*Math.sin(2*Math.PI*o),t[3]=a*Math.cos(2*Math.PI*o),t},rotateX:function(t,e,n){n*=.5;const r=e[0],o=e[1],s=e[2],i=e[3],a=Math.sin(n),c=Math.cos(n);return t[0]=r*c+i*a,t[1]=o*c+s*a,t[2]=s*c-o*a,t[3]=i*c-r*a,t},rotateY:function(t,e,n){n*=.5;const r=e[0],o=e[1],s=e[2],i=e[3],a=Math.sin(n),c=Math.cos(n);return t[0]=r*c-s*a,t[1]=o*c+i*a,t[2]=s*c+r*a,t[3]=i*c-o*a,t},rotateZ:function(t,e,n){n*=.5;const r=e[0],o=e[1],s=e[2],i=e[3],a=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*a,t[1]=o*c-r*a,t[2]=s*c+i*a,t[3]=i*c-s*a,t},rotationTo:function(t,e,n){const r=(0,a.k)(e,n);return r<-.999999?((0,a.b)(v,U,e),(0,a.H)(v)<1e-6&&(0,a.b)(v,F,e),(0,a.n)(v,v),u(t,v,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,a.b)(v,e,n),t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=1+r,L(t,t))},scale:d,set:N,setAxes:function(t,e,n,r){const o=w;return o[0]=n[0],o[3]=n[1],o[6]=n[2],o[1]=r[0],o[4]=r[1],o[7]=r[2],o[2]=-e[0],o[5]=-e[1],o[8]=-e[2],L(t,M(t,o))},setAxisAngle:u,slerp:E,sqlerp:function(t,e,n,r,o,s){return E(D,e,o,s),E(b,n,r,s),E(t,D,b,2*s*(1-s)),t},sqrLen:P,squaredLength:_,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},86452:(t,e,n)=>{n.d(e,{B:()=>u});var r=n(16889),o=n(29134),s=n(12400);function i(t,e,n){const r=Math.sin(t),o=Math.cos(t),s=Math.sin(e),i=Math.cos(e),a=n;return a[0]=-r,a[4]=-s*o,a[8]=i*o,a[12]=0,a[1]=o,a[5]=-s*r,a[9]=i*r,a[13]=0,a[2]=0,a[6]=i,a[10]=s,a[14]=0,a[3]=0,a[7]=0,a[11]=0,a[15]=1,a}var a=n(63865),c=n(92975);function u(t,e,n,r){if(null==t||null==r)return!1;const s=(0,a.eT)(t,a.Jz),u=(0,a.eT)(r,a.sp);if(s===u&&!l(u)&&(s!==a.Ej.UNKNOWN||(0,c.fS)(t,r)))return(0,o.vc)(n,e),!0;if(l(u)){const t=a.rf[s][a.Ej.LON_LAT],r=a.rf[a.Ej.LON_LAT][u];return null!=t&&null!=r&&(t(e,0,E,0),r(E,0,h,0),i(f*E[0],f*E[1],n),n[12]=h[0],n[13]=h[1],n[14]=h[2],!0)}if((u===a.Ej.WEB_MERCATOR||u===a.Ej.PLATE_CARREE||u===a.Ej.WGS84)&&(s===a.Ej.WGS84||s===a.Ej.CGCS2000&&u===a.Ej.PLATE_CARREE||s===a.Ej.SPHERICAL_ECEF||s===a.Ej.WEB_MERCATOR)){const t=a.rf[s][a.Ej.LON_LAT],r=a.rf[a.Ej.LON_LAT][u];return null!=t&&null!=r&&(t(e,0,E,0),r(E,0,h,0),s===a.Ej.SPHERICAL_ECEF?function(t,e,n){i(t,e,n),(0,o.p4)(n,n)}(f*E[0],f*E[1],n):(0,o.yR)(n),n[12]=h[0],n[13]=h[1],n[14]=h[2],!0)}return!1}function l(t){return t===a.Ej.SPHERICAL_ECEF||t===a.Ej.SPHERICAL_MARS_PCPF||t===a.Ej.SPHERICAL_MOON_PCPF}const f=(0,r.Vl)(1),E=(0,s.Ue)(),h=(0,s.Ue)()},68859:(t,e,n)=>{n.d(e,{K:()=>i});var r=n(12400),o=n(45925),s=n(50628);function i(t,e,n,r){var i,c;if((0,o.canProjectWithoutEngine)(t.spatialReference,n)){var u;a[0]=t.x,a[1]=t.y;const o=t.z;return a[2]=null!==(u=null!==o&&void 0!==o?o:r)&&void 0!==u?u:0,(0,s.projectBuffer)(a,t.spatialReference,0,e,n,0,1)}const l=(0,o.tryProjectWithZConversion)(t,n);return!!l&&(e[0]=null===l||void 0===l?void 0:l.x,e[1]=null===l||void 0===l?void 0:l.y,e[2]=null!==(i=null!==(c=null===l||void 0===l?void 0:l.z)&&void 0!==c?c:r)&&void 0!==i?i:0,!0)}const a=(0,r.Ue)()},29691:(t,e,n)=>{n.d(e,{rS:()=>u});var r=n(83448),o=n(78952),s=n(92975);const i=new o.Z(r.kU),a=new o.Z(r.JL),c=new o.Z(r.mM);new o.Z(r.pn);function u(t){const e=l.get(t);if(e)return e;let n=i;if(t)if(t===a)n=a;else if(t===c)n=c;else{const e=t.wkid,o=t.latestWkid;if(null!=e||null!=o)(0,s.o$)(e)||(0,s.o$)(o)?n=a:((0,s.ME)(e)||(0,s.ME)(o))&&(n=c);else{var r;const e=null!==(r=t.wkt2)&&void 0!==r?r:t.wkt;if(e){const t=e.toUpperCase();t===f?n=a:t===E&&(n=c)}}}return l.set(t,n),n}const l=new Map,f=a.wkt.toUpperCase(),E=c.wkt.toUpperCase()},76146:(t,e,n)=>{n.d(e,{Ue:()=>s,zu:()=>a,st:()=>i});n(16889);var r=n(32035),o=n(12400);n(19093),n(40927),n(51378);(0,o.Ue)(),(0,o.Ue)(),(0,o.Ue)(),(0,o.Ue)(),(0,o.Ue)();function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return[t[0],t[1],t[2],t[3]]}function i(t){return t}function a(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.floor(n*(1/3)),M=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.floor(n*(2/3));if(n<3)return!1;e(u,o);let T=i,I=!1;for(;T<n-1&&!I;)e(l,T),T++,I=!(0,r.j)(u,l);if(!I)return!1;for(T=Math.max(T,M),I=!1;T<n&&!I;)e(f,T),T++,(0,r.f)(E,u,l),(0,r.n)(E,E),(0,r.f)(h,l,f),(0,r.n)(h,h),I=!(0,r.j)(u,f)&&!(0,r.j)(l,f)&&Math.abs((0,r.k)(E,h))<c;return I?(function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s();const o=n[0]-e[0],i=n[1]-e[1],a=n[2]-e[2],c=t[0]-e[0],u=t[1]-e[1],l=t[2]-e[2],f=i*l-a*u,E=a*c-o*l,h=o*u-i*c,M=f*f+E*E+h*h,T=Math.abs(M-1)>1e-5&&M>1e-12?1/Math.sqrt(M):1;r[0]=f*T,r[1]=E*T,r[2]=h*T,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2])}(u,l,f,t),!0):(0!==o||1!==i||2!==M)&&a(t,e,n,0,1,2)}const c=.99619469809,u=(0,o.Ue)(),l=(0,o.Ue)(),f=(0,o.Ue)(),E=(0,o.Ue)(),h=(0,o.Ue)();const M=[0,0,1,0];var T;!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(T||(T={}));T.INFINITE_MIN,T.INFINITE_MAX,T.INFINITE_MAX},40927:(t,e,n)=>{n.d(e,{EU:()=>i});var r=n(16889),o=n(32035),s=n(12400);function i(t,e){const n=(0,o.k)(t,e)/((0,o.l)(t)*(0,o.l)(e));return-(0,r.ZF)(n)}(0,s.Ue)(),(0,s.Ue)()},51378:(t,e,n)=>{n.d(e,{MP:()=>E,vD:()=>h,WM:()=>f});var r=n(70758),o=n(21389),s=n(7025),i=n(50894),a=n(6644),c=n(12400),u=n(86361);class l{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.Y)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new l(a.Ue)}static createVec3f64(){return new l(c.Ue)}static createVec4f64(){return new l(u.Ue)}static createMat3f64(){return new l(o.Ue)}static createMat4f64(){return new l(s.Ue)}static createQuatf64(){return new l(i.Ue)}get test(){return{length:this._items.length}}}l.createVec2f64();const f=l.createVec3f64(),E=(l.createVec4f64(),l.createMat3f64(),l.createMat4f64()),h=l.createQuatf64()},75367:(t,e,n)=>{n.r(e),n.d(e,{assetMapFromAssetMapsJSON:()=>A,extractMesh:()=>I,meshFeatureSetFromJSON:()=>T});var r=n(52639),o=n(32718),s=n(77427),i=n(53866),a=n(25015),c=n(585),u=n(78952),l=n(76046),f=n(17493),E=n(18277),h=n(49818);const M=()=>o.Z.getLogger("esri.rest.support.meshFeatureSet");function T(t,e,n){var o;const s=n.features;n.features=[],delete n.geometryType;const i=h.Z.fromJSON(n);if(i.geometryType="mesh",!n.assetMaps)return i;const a=A(e,n.assetMaps),c=null!==(o=t.sourceSpatialReference)&&void 0!==o?o:u.Z.WGS84,l=n.globalIdFieldName,{outFields:f}=t,E=null!=f&&f.length>0?function(t){return e=>{let{attributes:n}=e;if(!n)return{};if(!t)return n;for(const r in n)t.has(r)||delete n[r];return n}}(f.includes("*")?null:new Set(f)):()=>({});for(const u of s){const t=I(u,l,c,e,a);null!=t&&i.features.push(new r.Z({geometry:t,attributes:E(u)}))}return i}function I(t,e,n,r,o){const s=t.attributes[e],u=o.get(s);if(null==u)return M().error("mesh-feature-set:asset-not-found","Service returned a feature which was not found in the asset map",t),null;if(!t.geometry)return M().error("mesh-feature-set:no-geometry","Service returned a feature without geometry",t),null;const E=function(t,e,n){let{attributes:r}=t,{transformFieldRoles:o}=n;const s=r[o.originX],i=r[o.originY],a=r[o.originZ];return new c.Z({x:s,y:i,z:a,spatialReference:e})}(t,n,r),h=i.Z.fromJSON(t.geometry);h.spatialReference=n;const T=function(t,e){let{transformFieldRoles:n}=e;return new l.Z({translation:[t[n.translationX],-t[n.translationZ],t[n.translationY]],rotationAxis:[t[n.rotationX],-t[n.rotationZ],t[n.rotationY]],rotationAngle:t[n.rotationDeg],scale:[t[n.scaleX],t[n.scaleZ],t[n.scaleY]]})}(t.attributes,r),I=n.isGeographic?"local":"georeferenced",A=function(t){const e=Array.from(t.files.values()),n=new Array;for(const r of e){if(r.status!==N.COMPLETED)return null;const t=new Array;for(const e of r.parts){if(!e)return null;t.push(new f.LL(e.url,e.hash))}n.push(new f.CP(r.name,r.mimeType,t))}return n}(u);return A?a.Z.createWithExternalSource(E,A,{extent:h,transform:T,vertexSpace:I}):a.Z.createIncomplete(E,{extent:h,transform:T,vertexSpace:I})}var N;function A(t,e){const n=new Map;for(const r of e){const e=r.parentGlobalId;if(null==e)continue;const o=r.assetName,i=r.assetType,a=r.assetHash,c=r.assetURL,u=r.conversionStatus,l=r.seqNo,f=(0,E.d1)(i,t.supportedFormats);if(!f){M().error("mesh-feature-set:unknown-format","Service returned an asset of type ".concat(i,", but it does not list it as a supported type"));continue}const h=(0,s.s1)(n,e,(()=>({files:new Map})));(0,s.s1)(h.files,o,(()=>({name:o,type:i,mimeType:f,status:O(u),parts:[]}))).parts[l]={hash:a,url:c}}return n}function O(t){switch(t){case"COMPLETED":case"SUBMITTED":return N.COMPLETED;case"INPROGRESS":return N.PENDING;default:return N.FAILED}}!function(t){t[t.FAILED=0]="FAILED",t[t.PENDING=1]="PENDING",t[t.COMPLETED=2]="COMPLETED"}(N||(N={}))},4760:(t,e,n)=>{var r;n.d(e,{T:()=>r}),function(t){t.POSITION="position",t.NORMAL="normal",t.NORMALCOMPRESSED="normalCompressed",t.UV0="uv0",t.COLOR="color",t.SYMBOLCOLOR="symbolColor",t.SIZE="size",t.TANGENT="tangent",t.OFFSET="offset",t.PERSPECTIVEDIVIDE="perspectiveDivide",t.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",t.LENGTH="length",t.PREVPOSITION="prevPosition",t.NEXTPOSITION="nextPosition",t.SUBDIVISIONFACTOR="subdivisionFactor",t.COLORFEATUREATTRIBUTE="colorFeatureAttribute",t.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",t.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",t.DISTANCETOSTART="distanceToStart",t.UVMAPSPACE="uvMapSpace",t.BOUNDINGRECT="boundingRect",t.UVREGION="uvRegion",t.PROFILERIGHT="profileRight",t.PROFILEUP="profileUp",t.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",t.FEATUREVALUE="featureValue",t.INSTANCEMODELORIGINHI="instanceModelOriginHi",t.INSTANCEMODELORIGINLO="instanceModelOriginLo",t.INSTANCEMODEL="instanceModel",t.INSTANCEMODELNORMAL="instanceModelNormal",t.INSTANCECOLOR="instanceColor",t.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",t.LOCALTRANSFORM="localTransform",t.GLOBALTRANSFORM="globalTransform",t.BOUNDINGSPHERE="boundingSphere",t.MODELORIGIN="modelOrigin",t.MODELSCALEFACTORS="modelScaleFactors",t.FEATUREATTRIBUTE="featureAttribute",t.STATE="state",t.LODLEVEL="lodLevel",t.POSITION0="position0",t.POSITION1="position1",t.NORMAL2COMPRESSED="normal2Compressed",t.COMPONENTINDEX="componentIndex",t.VARIANTOFFSET="variantOffset",t.VARIANTSTROKE="variantStroke",t.VARIANTEXTENSION="variantExtension",t.SIDENESS="sideness",t.START="start",t.END="end",t.UP="up",t.EXTRUDE="extrude",t.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",t.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"}(r||(r={}))}}]);
//# sourceMappingURL=1429.d0f833e6.chunk.js.map