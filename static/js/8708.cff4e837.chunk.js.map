{"version":3,"file":"static/js/8708.cff4e837.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js","../node_modules/@arcgis/core/core/perspectiveUtils.js","../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js","../node_modules/@arcgis/core/layers/support/MediaElementView.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/OverlayShader.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/overlay/OverlayTechnique.js","../node_modules/@arcgis/core/views/2d/engine/webgl/OverlayContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/animatedFormats/utils.js","../node_modules/@arcgis/core/views/2d/engine/webgl/grouping.js","../node_modules/@arcgis/core/views/2d/engine/webgl/Overlay.js","../node_modules/@arcgis/core/views/3d/layers/support/MediaLayerInteractionOptions.js","../node_modules/@arcgis/core/views/layers/MediaLayerView.js","../node_modules/@arcgis/core/views/2d/layers/MediaLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,0,1,0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function t(e,r,t,n,o,u,c,a,l){return[e,r,t,n,o,u,c,a,l]}function n(e,r){return new Float64Array(e,r,9)}const o=e(),u=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:r,create:e,createView:n,fromValues:t},Symbol.toStringTag,{value:\"Module\"}));export{o as IDENTITY,r as clone,e as create,n as createView,t as fromValues,u as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{transpose as t,multiply as r,adjoint as s,set as i}from\"./libs/gl-matrix-2/math/mat3.js\";import{create as m}from\"./libs/gl-matrix-2/factories/mat3f64.js\";import{set as o}from\"./libs/gl-matrix-2/math/vec2.js\";import{i as a,q as e}from\"../chunks/vec32.js\";import{create as c}from\"./libs/gl-matrix-2/factories/vec3f64.js\";const f=c(),n=m(),l=m(),u=m();function p(r,s,i){return a(f,s[0],s[1],1),e(f,f,t(n,i)),0===f[2]?o(r,f[0],f[1]):o(r,f[0]/f[2],f[1]/f[2])}function j(t,i,m){return x(l,i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]),x(u,m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7]),r(t,s(l,l),u),0!==t[8]&&(t[0]/=t[8],t[1]/=t[8],t[2]/=t[8],t[3]/=t[8],t[4]/=t[8],t[5]/=t[8],t[6]/=t[8],t[7]/=t[8],t[8]/=t[8]),t}function x(m,o,c,l,u,p,j,x,b){i(m,o,l,p,c,u,j,1,1,1),a(f,x,b,1),s(n,m);const[g,h,v]=e(f,f,t(n,n));return i(n,g,0,0,0,h,0,0,0,v),r(m,n,m)}export{j as getProjectiveTransform,p as transformProjective};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import e from\"../../../../../core/Error.js\";import{throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import{isDataProtocol as n,dataComponents as r}from\"../../../../../core/urlUtils.js\";function a(e){const t=m(e);return null!=t?t.toDataURL():\"\"}async function i(n,r){const a=m(n);if(null==a)throw new e(\"imageToArrayBuffer\",\"Unsupported image type\");const i=o(n),s=await new Promise((e=>a.toBlob(e,i)));if(t(r),!s)throw new e(\"imageToArrayBuffer\",\"Failed to encode image\");const c=await s.arrayBuffer();return t(r),{data:c,type:i}}function o(e){if(!(e instanceof HTMLImageElement))return\"image/png\";const t=e.src;if(n(t)){const e=r(t);return\"image/jpeg\"===e?.mediaType?e.mediaType:\"image/png\"}return/\\.png$/i.test(t)?\"image/png\":/\\.(jpg|jpeg)$/i.test(t)?\"image/jpeg\":\"image/png\"}function m(e){if(e instanceof HTMLCanvasElement)return e;if(e instanceof HTMLVideoElement)return null;const t=document.createElement(\"canvas\");t.width=e.width,t.height=e.height;const n=t.getContext(\"2d\");return e instanceof HTMLImageElement?n.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&n.putImageData(e,0,0),t}function s(e){const t=[],n=new Uint8Array(e);for(let r=0;r<n.length;r++)t.push(String.fromCharCode(n[r]));return\"data:application/octet-stream;base64,\"+btoa(t.join(\"\"))}function c(e){if(e.byteLength<8)return!1;const t=new Uint8Array(e);return 137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7]}export{s as encodeBase64DataUri,i as imageToArrayBuffer,a as imageToDataURI,m as imageTypeToCanvas,c as isArrayBufferPNG};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../../geometry/Polygon.js\";import{projectOrLoad as n}from\"../../geometry/projection.js\";import{fromExtent as p}from\"../../geometry/support/aaBoundingRect.js\";import{normalizeCentralMeridianSync as l}from\"../../geometry/support/normalizeUtilsSync.js\";let m=class extends r{constructor(o){super(o)}get bounds(){const o=this.coords;return null==o?.extent?null:p(o.extent)}get coords(){const o=this.element.georeference?.coords;return n(o,this.spatialReference).geometry}get normalizedCoords(){return s.fromJSON(l(this.coords))}get normalizedBounds(){const o=null!=this.normalizedCoords?this.normalizedCoords.extent:null;return null!=o?p(o):null}};o([e()],m.prototype,\"spatialReference\",void 0),o([e()],m.prototype,\"element\",void 0),o([e()],m.prototype,\"bounds\",null),o([e()],m.prototype,\"coords\",null),o([e()],m.prototype,\"normalizedCoords\",null),o([e()],m.prototype,\"normalizedBounds\",null),m=o([t(\"esri.layers.support.MediaElementView\")],m);export{m as MediaElementView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t,a as o}from\"../../../../../../../chunks/tslib.es6.js\";import{location as e,uniform as r,GraphShaderModule as p,VertexInput as i,UniformGroup as s,FragmentOutput as n,input as d,FragmentInput as a}from\"../../GraphShaderModule.js\";import{Float as l,dot as v,Vec3 as c,Vec2 as y,Vec4 as u,texture2D as f,Mat3 as g,Sampler2D as m}from\"../../graph/glsl.js\";class x extends i{}t([e(0,y)],x.prototype,\"pos\",void 0),t([e(1,y)],x.prototype,\"uv\",void 0);class h extends a{}class w extends s{}t([r(g)],w.prototype,\"dvs\",void 0);class S extends s{}t([r(y)],S.prototype,\"perspective\",void 0),t([r(y)],S.prototype,\"texSize\",void 0),t([r(l)],S.prototype,\"wrapAroundShift\",void 0),t([r(l)],S.prototype,\"opacity\",void 0),t([r(m)],S.prototype,\"texture\",void 0);class j extends p{vertex(t){const o=t.uv.divide(this.config.texSize),e=new l(1).add(v(o,this.config.perspective)),r=new c(t.pos.add(new y(this.config.wrapAroundShift,0)),1),p=this.transform.dvs.multiply(r);return{uv:o,glPosition:new u(p.xy.multiply(e),0,e)}}fragment(t){const o=f(this.config.texture,t.uv).multiply(this.config.opacity),e=new n;return e.glFragColor=o,e}}t([r(w)],j.prototype,\"transform\",void 0),t([r(S)],j.prototype,\"config\",void 0),t([o(0,d(x))],j.prototype,\"vertex\",null),t([o(0,d(h))],j.prototype,\"fragment\",null);export{j as OverlayShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e}from\"../../../../../../../core/maybe.js\";import{Mesh as t}from\"../../../meshing/Mesh.js\";import{simplePipelineState as s}from\"../../utils.js\";import{Technique as i}from\"../Technique.js\";import{TechniqueType as o}from\"../TechniqueType.js\";import{OverlayShader as r}from\"../shaders/OverlayShader.js\";import{CompareFunction as n,StencilOperation as a,DataType as p,PrimitiveType as h}from\"../../../../../../webgl/enums.js\";class u extends i{constructor(){super(...arguments),this.type=o.Overlay,this._mesh=null,this.shaders={overlay:new r}}render(e,t){const{context:i,painter:o}=e,r=this._getMesh(e,t);o.setPipelineState(s);const{isWrapAround:p,wrapAroundShift:h}=t.config,u={...t.config,wrapAroundShift:0},m={shader:this.shaders.overlay,uniforms:{transform:t.transform,config:u},defines:null,optionalAttributes:null,useComputeBuffer:!1};o.setPipelineState({...s,stencil:{write:!1,test:{compare:n.EQUAL,op:{fail:a.KEEP,zFail:a.KEEP,zPass:a.REPLACE},ref:0,mask:255}}}),o.submitDrawMeshUntyped(i,m,r),p&&(u.wrapAroundShift=h,o.submitDrawMeshUntyped(i,m,r))}shutdown(){e(this._mesh)}_getMesh(e,s){const{context:i}=e;if(this._mesh){const e=this._mesh.vertexBuffers.get(\"positions\");if(!e)throw new Error(\"Buffer not found\");e.setData(s.position)}else{const e=null!=s.index?s.index.length:s.position.length/2;this._mesh=new t(i,{vertex:{positions:s.position,uvs:s.tex},index:null!=s.index?{index:s.index}:void 0,groups:[{attributes:[{name:\"pos\",count:2,type:p.FLOAT,location:0,vertex:\"positions\",stride:8,offset:0},{name:\"tex\",count:2,type:p.UNSIGNED_SHORT,location:1,vertex:\"uvs\",stride:4,offset:0}],index:null!=s.index?\"index\":void 0,primitive:h.TRIANGLE_STRIP}],parts:[{group:0,start:0,count:e}]})}return this._mesh}}export{u as OverlayTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{toRadian as t}from\"../../../../core/libs/gl-matrix-2/math/common.js\";import{identity as e,multiply as r,translate as o,scale as i,rotate as s}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{fromValues as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{fromValues as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import{normalizeMapX as c}from\"../../../../geometry/support/normalizeUtils.js\";import{getInfo as h}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{getWorldWidth as m}from\"../../viewpointUtils.js\";import{WGLDrawPhase as d}from\"./enums.js\";import p from\"./WGLContainer.js\";import{OverlayTechnique as f}from\"./shaderGraph/techniques/overlay/OverlayTechnique.js\";class u extends p{constructor(){super(...arguments),this._viewStateId=-1,this._dvsMat3=a(),this._overlayTechnique=new f}get dvsMat3(){return this._dvsMat3}beforeRender(t){this._updateMatrices(t),this._updateOverlays(t,this.children);for(const e of this.children)e.beforeRender(t)}doRender(t){if(t.drawPhase!==d.MAP||!this.visible)return;super.doRender(t);const e=this._overlayTechnique;for(const r of this.children)r.draw(t,e)}onDetach(){this._overlayTechnique.shutdown()}_updateMatrices(a){const{state:h}=a,{id:m,size:d,pixelRatio:p,resolution:f,rotation:u,viewpoint:v,displayMat3:_}=h;if(this._viewStateId===m)return;const M=t(u),g=p*d[0],y=p*d[1];this._localOrigin=v.targetGeometry.clone();const{x:w,y:x}=this._localOrigin,b=c(w,h.spatialReference);this._localOrigin.x=b,this._localOrigin.y=x;const j=f*g,O=f*y,R=e(this._dvsMat3);r(R,R,_),o(R,R,n(g/2,y/2)),i(R,R,l(g/j,-y/O,1)),s(R,R,-M),this._viewStateId=m}_updateOverlays(e,r){const{state:o}=e,{rotation:i,spatialReference:s,worldScreenWidth:a,size:n,viewpoint:l}=o,c=this._localOrigin;let d,p=0;const f=h(s);if(f&&s.isWrappable){const e=n[0],r=n[1],c=t(i),h=Math.abs(Math.cos(c)),u=Math.abs(Math.sin(c)),v=Math.round(e*h+r*u),[_,M]=f.valid,g=m(s),{x:y,y:w}=l.targetGeometry,x=[y,w],b=[0,0];o.toScreen(b,x);const j=[0,0];let O;O=v>a?.5*a:.5*v;const R=Math.floor((y+.5*g)/g),q=_+R*g,S=M+R*g,G=[b[0]+O,0];o.toMap(j,G),j[0]>S&&(p=g),G[0]=b[0]-O,o.toMap(j,G),j[0]<q&&(p=-g),d={worldWidth:g,xBounds:[_,M]}}for(const t of r)t.updateDrawCoords(c,p,s,d)}}export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../../core/handleUtils.js\";import{Milliseconds as e}from\"../../../../../core/time.js\";import{imageTypeToCanvas as r}from\"../../../../../geometry/support/meshUtils/exporters/gltf/imageutils.js\";import{AnimatedSymbolRepeatType as i}from\"../../../../../symbols/cim/enums.js\";import{getRandomValue as a}from\"../grouping.js\";function n(t){return e(t.frameDurations.reduce(((t,e)=>t+e),0))}function o(t){const{width:e,height:r}=t,i=t.frameDurations.reverse(),a=e=>{const r=t.frameDurations.length-1-e;return t.getFrame(r)};return{frameCount:t.frameCount,duration:t.duration,frameDurations:i,getFrame:a,width:e,height:r}}function s(t,r){const{width:i,height:a,getFrame:n}=t,o=r/t.duration,s=t.frameDurations.map((t=>e(t*o)));return{frameCount:t.frameCount,duration:t.duration,frameDurations:s,getFrame:n,width:i,height:a}}function m(t,r){const{width:i,height:a,getFrame:n}=t,o=t.frameDurations.slice(),s=o.shift();return o.unshift(e(s+r)),{frameCount:t.frameCount,duration:t.duration+r,frameDurations:o,getFrame:n,width:i,height:a}}function u(t,r){const{width:i,height:a,getFrame:n}=t,o=t.frameDurations.slice(),s=o.pop();return o.push(e(s+r)),{frameCount:t.frameCount,duration:t.duration+r,frameDurations:o,getFrame:n,width:i,height:a}}class h{constructor(t,e,r,i){this._animation=t,this._repeatType=r,this._onFrameData=i,this._direction=1,this._currentFrame=0,this.timeToFrame=this._animation.frameDurations[this._currentFrame];let a=0;for(;e>a;)a+=this.timeToFrame,this.nextFrame();const n=this._animation.getFrame(this._currentFrame);this._onFrameData(n)}nextFrame(){if(this._currentFrame+=this._direction,this._direction>0){if(this._currentFrame===this._animation.frameDurations.length)switch(this._repeatType){case i.None:this._currentFrame-=this._direction;break;case i.Loop:this._currentFrame=0;break;case i.Oscillate:this._currentFrame-=this._direction,this._direction=-1}}else if(-1===this._currentFrame)switch(this._repeatType){case i.None:this._currentFrame-=this._direction;break;case i.Loop:this._currentFrame=this._animation.frameDurations.length-1;break;case i.Oscillate:this._currentFrame-=this._direction,this._direction=1}this.timeToFrame=this._animation.frameDurations[this._currentFrame];const t=this._animation.getFrame(this._currentFrame);this._onFrameData(t)}}function c(t,r,c,f){let l,{repeatType:d}=r;if(null==d&&(d=i.Loop),!0===r.reverseAnimation&&(t=o(t)),null!=r.duration&&(t=s(t,e(1e3*r.duration))),null!=r.repeatDelay){const a=1e3*r.repeatDelay;d===i.Loop?t=u(t,e(a)):d===i.Oscillate&&(t=m(u(t,e(a/2)),e(a/2)))}if(null!=r.startTimeOffset)l=e(1e3*r.startTimeOffset);else if(null!=r.randomizeStartTime){const i=82749913,o=null!=r.randomizeStartSeed?r.randomizeStartSeed:i,s=a(c,o);l=e(s*n(t))}else l=e(0);return new h(t,l,d,f)}function f(e,r,i,a){const n=null==r.playAnimation||r.playAnimation,o=c(e,r,i,a);let s,m=o.timeToFrame;function u(){s=n?setTimeout((()=>{o.nextFrame(),m=o.timeToFrame,u()}),m):void 0}return u(),t((()=>n&&clearTimeout(s)))}let l,d;function g(){return l??=document.createElement(\"canvas\"),d??=l.getContext(\"2d\"),{canvas:l,ctx:d}}function F(t,e,i){const{canvas:a,ctx:n}=g();a.width=e,a.height=i;const o=[],s=t.frameDurations.length;for(let m=0;m<s;m++){const a=t.getFrame(m);n.clearRect(0,0,e,i),a instanceof ImageData?n.drawImage(r(a),0,0,e,i):n.drawImage(a,0,0,e,i),o.push(n.getImageData(0,0,e,i))}return{width:e,height:i,frameDurations:t.frameDurations,getFrame:t=>o[t],frameCount:t.frameCount,duration:t.duration}}export{h as Player,s as adjustDuration,u as appendDelay,c as createPlayer,n as getDuration,f as play,m as prependDelay,F as resize,o as reverse};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{numericHash as t}from\"../../../../core/string.js\";function e(e,o){let r;if(\"string\"==typeof e)r=t(e+`-seed(${o})`);else{let t=12;r=e^o;do{r=107*(r>>8^r)+t|0}while(0!=--t)}return(1+r/(1<<31))/2}function o(t){return Math.floor(e(t,r)*n)}const r=53290320,n=10;export{e as getRandomValue,o as getStartGroup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{on as t}from\"../../../../core/events.js\";import r from\"../../../../core/Handles.js\";import i from\"../../../../core/Logger.js\";import{disposeMaybe as s}from\"../../../../core/maybe.js\";import{getProjectiveTransform as n}from\"../../../../core/perspectiveUtils.js\";import{watch as o,when as a,initial as l}from\"../../../../core/reactiveUtils.js\";import{create as d}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{set as m}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as h}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{AnimatedSymbolRepeatType as p}from\"../../../../symbols/cim/enums.js\";import{DisplayObject as u}from\"../DisplayObject.js\";import{play as c}from\"./animatedFormats/utils.js\";import{TextureWrapMode as f}from\"../../../webgl/enums.js\";import{Texture as w}from\"../../../webgl/Texture.js\";import{TextureDescriptor as y}from\"../../../webgl/TextureDescriptor.js\";const x=[1,1],g=d(),v={none:p.None,loop:p.Loop,oscillate:p.Oscillate};function b(e){return e?{type:\"CIMAnimatedSymbolProperties\",...e,playAnimation:e.playing,repeatType:e.repeatType?v[e.repeatType]:void 0}:{type:\"CIMAnimatedSymbolProperties\"}}class q extends u{constructor(n){super(),this.elementView=n,this.isWrapAround=!1,this.wrapAroundShift=0,this.perspectiveTransform=h(),this._handles=new r,this._vertices=new Float32Array(8),this._indices=new Uint16Array([0,0,0,1,1,0,1,1,1,1,0,0,0,0,0,1,1,0,1,1]),this._handles.add([o((()=>this.elementView.element.opacity),(e=>this.opacity=e),l),o((()=>[this.elementView.coords]),(()=>{this.requestRender()}),l),o((()=>[\"animationOptions\"in this.elementView.element&&this.elementView.element.animationOptions]),(()=>{this._handles.remove(\"play\"),this.texture=s(this.texture),this.requestRender()}),l),a((()=>this.elementView.element.loaded),(()=>{const e=this.elementView.element;this.ready(),\"video\"===e.type&&null!=e.content&&(this._handles.add([t(e.content,\"play\",(()=>this.requestRender())),t(e.content,\"loadeddata\",(()=>this.requestRender())),t(e.content,\"loaded\",(()=>this.requestRender()))]),\"requestVideoFrameCallback\"in e.content?e.content.requestVideoFrameCallback((()=>this.requestRender())):this._handles.add([t(e.content,\"seeked\",(()=>this.requestRender()))]),this.requestRender())}),l)]),n.element.load().catch((t=>{i.getLogger(\"esri.views.2d.layers.MediaLayerView2D\").error(new e(\"element-load-error\",\"Element cannot be displayed\",{element:n,error:t}))}))}getMesh(e){throw new Error(\"Method not implemented.\")}destroy(){this._handles.destroy(),this.texture=s(this.texture)}get textureSize(){return x}get dvsMat3(){return this.parent.dvsMat3}beforeRender(e){const{context:t}=e,r=this.elementView.element.content;if(null!=r){const e=r instanceof HTMLImageElement,i=r instanceof HTMLVideoElement,s=e?r.naturalWidth:i?r.videoWidth:r.width,n=e?r.naturalHeight:i?r.videoHeight:r.height;if(this._updatePerspectiveTransform(s,n),this.texture)i&&(this.texture.setData(r),this.texture.generateMipmap(),\"requestVideoFrameCallback\"in r?r.requestVideoFrameCallback((()=>this.requestRender())):r.paused||this.requestRender());else{const e=new y;if(e.wrapMode=f.CLAMP_TO_EDGE,e.preMultiplyAlpha=!0,e.width=s,e.height=n,\"getFrame\"in r){const i=r=>{this.texture?this.texture.setData(r):this.texture=new w(t,e,r),this.requestRender()};\"animationOptions\"in this.elementView.element&&this._handles.add(c(r,b(this.elementView.element.animationOptions),null,i),\"play\")}else this.texture=new w(t,e,r);this.texture.generateMipmap(),i&&(\"requestVideoFrameCallback\"in r?r.requestVideoFrameCallback((()=>this.requestRender())):r.paused||this.requestRender())}}super.beforeRender(e)}_createTransforms(){return null}draw(e,t){this.isReady&&null!=this.texture?t.render(e,{transform:{dvs:this.dvsMat3},config:{perspective:this.perspectiveTransform,texSize:x,wrapAroundShift:this.wrapAroundShift,isWrapAround:this.isWrapAround,opacity:this.opacity,texture:{texture:this.texture,unit:0}},position:this._vertices,tex:this._indices}):this.requestRender()}updateDrawCoords(e,t,r,i){const{coords:s,bounds:n}=this.elementView;if(null==s||null==n)return;const[o,a,l,d]=s.rings[0],m=this._vertices,{x:h,y:p}=e;m.set([a[0]-h,a[1]-p,o[0]-h,o[1]-p,l[0]-h,l[1]-p,d[0]-h,d[1]-p]);let u=t;if(i){const[e,,t]=n,{worldWidth:r,xBounds:s}=i,[o,a]=s;e<o&&t>o?u=r:t>a&&e<a&&(u=-r)}this.wrapAroundShift=u,this.isWrapAround=0!==u}_updatePerspectiveTransform(e,t){const r=this._vertices;n(g,[0,0,e,0,0,t,e,t],[r[0],r[1],r[4],r[5],r[2],r[3],r[6],r[7]]),m(this.perspectiveTransform,g[6]/g[8]*e,g[7]/g[8]*t)}}export{q as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends r{constructor(){super(...arguments),this.tool=\"transform\"}};o([s()],e.prototype,\"tool\",void 0),e=o([t(\"esri.views.3d.layers.support.MediaLayerInteractionOptions\")],e);export{e as MediaLayerInteractionOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{MediaLayerInteractionOptions as r}from\"../3d/layers/support/MediaLayerInteractionOptions.js\";const s=s=>{let i=class extends s{constructor(...e){super(...e),this.layer=null,this.interactive=!1,this.interactionOptions=new r,this.selectedElement=null}};return e([t()],i.prototype,\"layer\",void 0),e([t()],i.prototype,\"interactive\",void 0),e([t()],i.prototype,\"interactionOptions\",void 0),e([t()],i.prototype,\"selectedElement\",void 0),i=e([o(\"esri.views.layers.MediaLayerView\")],i),i};export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import\"../../../Graphic.js\";import\"../../../renderers/ClassBreaksRenderer.js\";import\"../../../renderers/DictionaryRenderer.js\";import\"../../../renderers/DotDensityRenderer.js\";import\"../../../renderers/HeatmapRenderer.js\";import\"../../../renderers/PieChartRenderer.js\";import\"../../../renderers/Renderer.js\";import\"../../../renderers/SimpleRenderer.js\";import\"../../../renderers/UniqueValueRenderer.js\";import\"../../../renderers/support/jsonUtils.js\";import t from\"../../../core/Logger.js\";import\"../../../symbols.js\";import i from\"../../../core/Collection.js\";import r from\"../../../core/Error.js\";import\"../../../core/has.js\";import{getOrCreateMapValue as s}from\"../../../core/MapUtils.js\";import{isAbortError as o}from\"../../../core/promiseUtils.js\";import{watch as n,on as l,syncAndInitial as m}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../../geometry/support/aaBoundingRect.js\";import{ringsContainsCoords as h}from\"../../../geometry/support/contains.js\";import{extentIntersectsPolygon as d}from\"../../../geometry/support/intersectsBase.js\";import{MediaElementView as u}from\"../../../layers/support/MediaElementView.js\";import\"../../../core/scheduling.js\";import\"../../../core/accessorSupport/tracking/Flags.js\";import\"../../../core/colorUtils.js\";import\"../../../config.js\";import\"../../../symbols/cim/defaultCIMValues.js\";import\"../../../symbols/cim/enums.js\";import\"../../../core/floatRGBA.js\";import g from\"../../../geometry/Extent.js\";import\"../../../geometry/Geometry.js\";import\"../../../geometry/Multipoint.js\";import\"../../../geometry/Point.js\";import\"../../../geometry/Polygon.js\";import\"../../../geometry/Polyline.js\";import\"../engine/webgl/definitions.js\";import\"../engine/webgl/animations/instructions.js\";import\"../../../symbols/Font.js\";import\"../../../core/ObjectPool.js\";import\"../../../geometry/support/Axis.js\";import\"../../../geometry/support/spatialReferenceUtils.js\";import\"../../../geometry/support/TileClipper.js\";import\"../../../symbols/cim/effects/EffectAddControlPoints.js\";import\"../../../symbols/cim/effects/EffectArrow.js\";import\"../../../symbols/cim/effects/EffectBuffer.js\";import\"../../../symbols/cim/effects/EffectControlMeasureLine.js\";import\"../../../symbols/cim/effects/EffectCut.js\";import\"../../../symbols/cim/effects/EffectDashes.js\";import\"../../../symbols/cim/effects/EffectDonut.js\";import\"../../../symbols/cim/effects/EffectJog.js\";import\"../../../symbols/cim/effects/EffectMove.js\";import\"../../../symbols/cim/effects/EffectOffset.js\";import\"../../../symbols/cim/effects/EffectReverse.js\";import\"../../../symbols/cim/effects/EffectRotate.js\";import\"../../../symbols/cim/effects/EffectScale.js\";import\"../../../symbols/cim/effects/EffectWave.js\";import\"../../../symbols/cim/placements/PlacementAlongLineSameSize.js\";import\"../../../symbols/cim/placements/PlacementAtExtremities.js\";import\"../../../symbols/cim/placements/PlacementAtRatioPositions.js\";import\"../../../symbols/cim/placements/PlacementInsidePolygon.js\";import\"../../../symbols/cim/placements/PlacementOnLine.js\";import\"../../../symbols/cim/placements/PlacementOnVertices.js\";import\"../../../symbols/cim/placements/PlacementPolygonCenter.js\";import\"../../../core/mathUtils.js\";import\"../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import\"../engine/webgl/alignmentUtils.js\";import\"../../../symbols/support/defaults.js\";import\"../../../symbols/cim/OverrideHelper.js\";import\"../../../layers/effects/EffectView.js\";import\"../../../core/Evented.js\";import\"../engine/transitions/FadeTransition.js\";import\"../engine/webgl/enums.js\";import\"../engine/webgl/brushes/BrushBitmap.js\";import\"../../../core/libs/gl-matrix-2/factories/vec4f32.js\";import\"../../webgl/checkWebGLError.js\";import\"../../webgl/enums.js\";import\"../../webgl/FramebufferObject.js\";import\"../../webgl/GLObjectType.js\";import\"../../webgl/Texture.js\";import\"../engine/webgl/shaders/BackgroundPrograms.js\";import\"../engine/webgl/DefaultVertexAttributeLayouts.js\";import\"../engine/webgl/AFeatureTile.js\";import\"../engine/webgl/DisplayEntity.js\";import\"../engine/webgl/shaderGraph/techniques/featureTechniqueUtils.js\";import\"../engine/webgl/number.js\";import\"../engine/webgl/PooledUint32Array.js\";import\"../engine/webgl/shaders/TileInfoPrograms.js\";import\"../engine/vectorTiles/style/StyleDefinition.js\";import\"../engine/vectorTiles/enums.js\";import\"../engine/webgl/shaders/BitBlitPrograms.js\";import\"../../../request.js\";import\"../../../core/urlUtils.js\";import\"../../../core/pbf.js\";import\"../engine/webgl/shaders/StencilPrograms.js\";import\"../engine/webgl/shaderGraph/techniques/TechniqueType.js\";import\"../engine/webgl/shaderGraph/techniques/shaders/BlendShader.js\";import\"../engine/webgl/shaderGraph/techniques/shaders/OpacityShader.js\";import\"../engine/webgl/shaders/HighlightPrograms.js\";import\"../engine/webgl/meshing/SimpleMesh.js\";import\"../engine/webgl/Profiler.js\";import\"../engine/webgl/shaderGraph/techniques/TechniqueRegistry.js\";import\"../../../Color.js\";import\"../engine/webgl/shaderGraph/techniques/shaders/constants.js\";import\"../engine/webgl/shaderGraph/techniques/dotDensity/DotDensityMeshWriter.js\";import\"../engine/webgl/shaderGraph/techniques/fill/ComplexFillMeshWriter.js\";import\"../engine/webgl/shaderGraph/techniques/fill/ComplexOutlineFillMeshWriter.js\";import\"../engine/webgl/shaderGraph/techniques/fill/FillMeshWriter.js\";import\"../engine/webgl/shaderGraph/techniques/fill/OutlineFillMeshWriter.js\";import\"../engine/webgl/shaderGraph/techniques/fill/PatternFillMeshWriter.js\";import\"../engine/webgl/shaderGraph/techniques/fill/PatternOutlineFillMeshWriter.js\";import\"../engine/webgl/shaderGraph/techniques/heatmap/HeatmapMeshWriter.js\";import\"../../../geometry/support/aaBoundingBox.js\";import\"../engine/webgl/shaderGraph/techniques/text/TextMeshWriter.js\";import\"../engine/webgl/shaderGraph/techniques/line/LineMeshWriter.js\";import\"../engine/webgl/shaderGraph/techniques/line/TexturedLineMeshWriter.js\";import\"../engine/webgl/shaderGraph/techniques/markers/MarkerMeshWriter.js\";import\"../engine/webgl/shaderGraph/techniques/pieChart/PieChartMeshWriter.js\";import\"../../webgl/renderState.js\";import\"../../3d/webgl-engine/core/shaderModules/interfaces.js\";import\"../../webgl/testSVGPremultipliedAlpha.js\";import\"../LabelManager.js\";import\"./graphics/GraphicsView2D.js\";import\"../../../chunks/earcut.js\";import\"../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import\"../../../geometry/support/normalizeUtilsCommon.js\";import\"../../../geometry/SpatialReference.js\";import\"../../../geometry/support/Ellipsoid.js\";import\"../../../kernel.js\";import\"./support/util.js\";import\"../navigation/MapViewNavigation.js\";import\"../../../core/asyncUtils.js\";import\"../../../core/support/UpdatingHandles.js\";import\"../engine/webgl/shaderGraph/techniques/shaders/MagnifierShader.js\";import\"../../../core/unitUtils.js\";import\"../../../geometry/ellipsoidUtils.js\";import\"../../../chunks/pe.js\";import\"../../../geometry/projection/projectors.js\";import\"../engine/webgl/shaderGraph/techniques/shaders/GridShader.js\";import\"../../../geometry/support/geodesicConstants.js\";import\"../tiling/TileInfoView.js\";import\"../tiling/TileKey.js\";import f from\"../tiling/TileQueue.js\";import j from\"../tiling/TileStrategy.js\";import y from\"../engine/webgl/Overlay.js\";import b from\"../engine/webgl/OverlayContainer.js\";import{LayerView2DMixin as w}from\"./LayerView2D.js\";import _ from\"../../layers/LayerView.js\";import v from\"../../layers/MediaLayerView.js\";import{TaskPriority as E}from\"../../support/Scheduler.js\";let G=class extends(w(v(_))){constructor(){super(...arguments),this._overlayContainer=null,this._fetchQueue=null,this._tileStrategy=null,this._elementReferences=new Map,this._debugGraphicsView=null,this._interaction=null,this.layer=null,this.elements=new i}initialize(){this.addHandles([n((()=>[this.interactive,this.suspended]),(async()=>{if(this.interactive&&!this._interaction){const{MediaLayerInteraction:e}=await import(\"./support/MediaLayerInteraction.js\");this._interaction=new e({view:this.view,layer:this.layer}),this.selectedElement!==this._interaction.selectedElement&&(this._interaction.selectedElement=this.selectedElement),this.interactionOptions!==this._interaction.options&&(this._interaction.options=this.interactionOptions)}this._interaction&&(this._interaction.enabled=!this.suspended&&this.interactive)}),m),n((()=>this.interactionOptions),(e=>{this._interaction&&(this._interaction.options=e)}),m),n((()=>this.selectedElement),(e=>{this._interaction&&(this._interaction.selectedElement=e)}),m)])}attach(){this.addAttachHandles([l((()=>this.layer.effectiveSource),\"refresh\",(()=>{this._tileStrategy.refresh((e=>this._updateTile(e))),this.requestUpdate()})),l((()=>this.layer.effectiveSource),\"change\",(({element:e})=>this._elementUpdateHandler(e)))]),this._overlayContainer=new b,this.container.addChild(this._overlayContainer),this._fetchQueue=new f({tileInfoView:this.view.featuresTilingScheme,concurrency:10,process:(e,t)=>this._queryElements(e,t),scheduler:this.scheduler,priority:E.MAPVIEW_FETCH_QUEUE}),this._tileStrategy=new j({cachePolicy:\"purge\",resampling:!0,acquireTile:e=>this._acquireTile(e),releaseTile:e=>this._releaseTile(e),tileInfoView:this.view.featuresTilingScheme}),this.requestUpdate()}detach(){this.elements.removeAll(),this._tileStrategy.destroy(),this._fetchQueue.destroy(),this._overlayContainer.removeAllChildren(),this.container.removeAllChildren(),this._elementReferences.clear(),this._debugGraphicsView?.destroy()}supportsSpatialReference(e){return!0}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}update(e){this._tileStrategy.update(e),this._debugGraphicsView?.update(e)}async hitTest(e,t){const i=[],r=e.normalize(),s=[r.x,r.y];for(const{elementView:{normalizedCoords:o,element:n}}of this._elementReferences.values())null!=o&&h(o.rings,s)&&i.push({type:\"media\",element:n,layer:this.layer,mapPoint:e,sourcePoint:n.toSource(e)});return i.reverse()}canResume(){return null!=this.layer.source&&super.canResume()}async doRefresh(){this._fetchQueue.reset(),this._tileStrategy.refresh((e=>this._updateTile(e)))}_acquireTile(e){const t=new C(e.clone());return this._updateTile(t),t}_updateTile(e){this._updatingHandles.addPromise(this._fetchQueue.push(e.key).then((t=>{const[i,r]=e.setElements(t);this._referenceElements(e,i),this._dereferenceElements(e,r),this.requestUpdate()}),(e=>{o(e)||t.getLogger(this).error(e)})))}_releaseTile(e){this._fetchQueue.abort(e.key.id),e.elements&&this._dereferenceElements(e,e.elements),this.requestUpdate()}async _queryElements(e,t){const i=this.layer.effectiveSource;if(null==i)return[];this.view.featuresTilingScheme.getTileBounds(S,e,!0);const r=new g({xmin:S[0],ymin:S[1],xmax:S[2],ymax:S[3],spatialReference:this.view.spatialReference});return i.queryElements(r,t)}_referenceElements(e,t){if(null!=this.layer.source)for(const i of t)this._referenceElement(e,i)}_referenceElement(e,i){s(this._elementReferences,i.uid,(()=>{const e=new u({element:i,spatialReference:this.view.spatialReference}),s=new y(e);return this._overlayContainer.addChild(s),this.elements.add(i),this._updatingHandles.addPromise(i.load().catch((e=>{t.getLogger(\"esri.views.2d.layers.MediaLayerView2D\").error(new r(\"element-load-error\",\"Element cannot be displayed\",{element:i,error:e}))}))),{debugGraphic:null,elementView:e,overlay:s,tiles:new Set}})).tiles.add(e)}_dereferenceElements(e,t){for(const i of t)this._dereferenceElement(e,i)}_dereferenceElement(e,t){const i=this._elementReferences.get(t.uid);i.tiles.delete(e),i.tiles.size||(this._overlayContainer.removeChild(i.overlay),i.overlay.destroy(),i.elementView.destroy(),this._elementReferences.delete(t.uid),this.elements.remove(t),this._debugGraphicsView?.graphics.remove(i.debugGraphic))}_elementUpdateHandler(e){let t=this._elementReferences.get(e.uid);if(t){const i=t.elementView.normalizedCoords;if(null==i)return this._overlayContainer.removeChild(t.overlay),t.overlay.destroy(),t.elementView.destroy(),this._elementReferences.delete(e.uid),this.elements.remove(e),void this._debugGraphicsView?.graphics.remove(t.debugGraphic);const r=[],s=[];for(const e of this._tileStrategy.tiles){const o=R(this.view.featuresTilingScheme,e,i);t.tiles.has(e)?o||s.push(e):o&&r.push(e)}for(const t of r)this._referenceElement(t,e);for(const t of s)this._dereferenceElement(t,e);return t=this._elementReferences.get(e.uid),void(t?.debugGraphic&&(t.debugGraphic.geometry=t.elementView.normalizedCoords,this._debugGraphicsView.graphicUpdateHandler({graphic:t.debugGraphic,property:\"geometry\"})))}const i=new u({element:e,spatialReference:this.view.spatialReference}).normalizedCoords;if(null!=i)for(const r of this._tileStrategy.tiles){R(this.view.featuresTilingScheme,r,i)&&this._referenceElement(r,e)}}};e([a()],G.prototype,\"layer\",void 0),e([a({readOnly:!0})],G.prototype,\"elements\",void 0),G=e([p(\"esri.views.2d.layers.MediaLayerView2D\")],G);const S=c(),q={xmin:0,ymin:0,xmax:0,ymax:0};function R(e,t,i){return e.getTileBounds(S,t.key,!0),q.xmin=S[0],q.ymin=S[1],q.xmax=S[2],q.ymax=S[3],d(q,i)}class C{constructor(e){this.key=e,this.elements=null,this.isReady=!1,this.visible=!0}setElements(e){const t=[],i=new Set(this.elements);this.elements=e;for(const r of e)i.has(r)?i.delete(r):t.push(r);return this.isReady=!0,[t,Array.from(i)]}destroy(){}}const T=G;export{T as default};\n"],"names":["e","t","r","n","o","u","c","a","l","Object","freeze","defineProperty","__proto__","IDENTITY","clone","create","createView","Float64Array","fromValues","Symbol","toStringTag","value","f","m","p","s","i","j","x","b","g","h","v","toDataURL","async","HTMLImageElement","src","mediaType","test","Promise","toBlob","arrayBuffer","data","type","HTMLCanvasElement","HTMLVideoElement","document","createElement","width","height","getContext","drawImage","ImageData","putImageData","Uint8Array","length","push","String","fromCharCode","btoa","join","byteLength","constructor","super","bounds","this","coords","extent","_this$element$georefe","element","georeference","spatialReference","geometry","normalizedCoords","fromJSON","normalizedBounds","prototype","y","w","S","vertex","uv","divide","config","texSize","add","perspective","pos","wrapAroundShift","transform","dvs","multiply","glPosition","xy","fragment","texture","opacity","glFragColor","d","arguments","Overlay","_mesh","shaders","overlay","render","context","painter","_getMesh","setPipelineState","isWrapAround","_objectSpread","shader","uniforms","defines","optionalAttributes","useComputeBuffer","stencil","write","compare","EQUAL","op","fail","KEEP","zFail","zPass","REPLACE","ref","mask","submitDrawMeshUntyped","shutdown","vertexBuffers","get","Error","setData","position","index","positions","uvs","tex","groups","attributes","name","count","FLOAT","location","stride","offset","UNSIGNED_SHORT","primitive","TRIANGLE_STRIP","parts","group","start","_viewStateId","_dvsMat3","_overlayTechnique","dvsMat3","beforeRender","_updateMatrices","_updateOverlays","children","doRender","drawPhase","MAP","visible","draw","onDetach","state","id","size","pixelRatio","resolution","rotation","viewpoint","displayMat3","_","M","_localOrigin","targetGeometry","O","R","worldScreenWidth","isWrappable","Math","abs","cos","sin","round","valid","toScreen","floor","q","G","toMap","worldWidth","xBounds","updateDrawCoords","getFrame","frameDurations","slice","pop","frameCount","duration","_animation","_repeatType","_onFrameData","_direction","_currentFrame","timeToFrame","nextFrame","None","Loop","Oscillate","repeatType","reverseAnimation","reverse","map","repeatDelay","shift","unshift","startTimeOffset","randomizeStartTime","randomizeStartSeed","reduce","playAnimation","setTimeout","clearTimeout","concat","none","loop","oscillate","elementView","perspectiveTransform","_handles","_vertices","Float32Array","_indices","Uint16Array","requestRender","animationOptions","remove","loaded","ready","content","requestVideoFrameCallback","load","catch","getLogger","error","getMesh","destroy","textureSize","parent","naturalWidth","videoWidth","naturalHeight","videoHeight","_updatePerspectiveTransform","generateMipmap","paused","wrapMode","CLAMP_TO_EDGE","preMultiplyAlpha","playing","_createTransforms","isReady","unit","rings","set","tool","layer","interactive","interactionOptions","selectedElement","_overlayContainer","_fetchQueue","_tileStrategy","_elementReferences","Map","_debugGraphicsView","_interaction","elements","initialize","addHandles","suspended","MediaLayerInteraction","view","options","enabled","attach","addAttachHandles","effectiveSource","refresh","_updateTile","requestUpdate","_ref","_elementUpdateHandler","container","addChild","tileInfoView","featuresTilingScheme","concurrency","process","_queryElements","scheduler","priority","E","MAPVIEW_FETCH_QUEUE","cachePolicy","resampling","acquireTile","_acquireTile","releaseTile","_releaseTile","detach","_this$_debugGraphicsV","removeAll","removeAllChildren","clear","supportsSpatialReference","viewChange","moveEnd","update","_this$_debugGraphicsV2","hitTest","normalize","values","mapPoint","sourcePoint","toSource","canResume","source","doRefresh","reset","C","_updatingHandles","addPromise","key","then","setElements","_referenceElements","_dereferenceElements","abort","getTileBounds","xmin","ymin","xmax","ymax","queryElements","_referenceElement","uid","debugGraphic","tiles","Set","_dereferenceElement","_this$_debugGraphicsV3","delete","removeChild","graphics","_this$_debugGraphicsV4","_t","has","graphicUpdateHandler","graphic","property","readOnly","Array","from","T"],"sourceRoot":""}